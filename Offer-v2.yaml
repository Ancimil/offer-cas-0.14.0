swagger: "2.0"
x-asee-visibility: public
info:
  version: alpha
  title: Offer API
  description: |
    Offer API lets you initiate, track and execute offers for loans, deposits, credit facilities and current accounts. It provides simulation of conditions for potential products and services. The offer process it defined primarily by the nature of the product or  service being considered, but can include actions such as document checks, collateral allocation, credit assessments, underwriting decisions, regulatory and procedural checks, eligibility checks, the use of internal and external specialist services (such as evaluations and legal advice).
  contact:
    name: Slobodan Amidzic
    url: https://bankapi.net/docs/public/offerv2-getstarted.html
    email: slobodan.amidzic@asseco-see.rs
host: bankapi.net
basePath: /v2/offer
schemes:
  - https
  - http
consumes:
  - application/json
produces:
  - application/json
tags:
  -
    name: Applications
    description: Working with product applications and arrangemet requests
  -
    name: Calculations
    description: Working with calculations
  -
    name: Classifications
    description: Working with classifications

paths:

  /application-list:
    get:
      summary: List of applications basic data
      tags:
        - Applications
      x-asee-tags:
        - Sortable
        - Pageable
      operationId: ApplicationsView_GetList
      parameters:
        - $ref: "#/parameters/statuses-param"
        - $ref: "#/parameters/kinds-param"
        - $ref: "#/parameters/product-code-param"
        - $ref: "#/parameters/customer-data-param"
        - $ref: "#/parameters/status-from-date-param"
        - $ref: "#/parameters/request-from-date-param"
        - $ref: "#/parameters/request-to-date-param"
        - $ref: "#/parameters/page-param"
        - $ref: "#/parameters/page-size-param"
        - $ref: "#/parameters/sort-by-param"
        - $ref: "#/parameters/sort-order-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
        - $ref: "#/parameters/application-number-query-param"
        - $ref: "#/parameters/username-query-param"
        - $ref: "#/parameters/obligation-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/application-view-list'
        default:
          $ref: '#/responses/default-error-response'
  
  /applications:
    get:
      summary: List of applications
      description: |
        Response contains detailed information on each of the applications.  
        Properties that can be included are:
          - arrangement-requests
          - involved-parties
          - documents
          - exposure-info
      tags:
        - Applications
      x-asee-tags:
        - Shapeable
        - Sortable
        - Pageable
      operationId: Applications_GetList
      parameters:
        - $ref: "#/parameters/statuses-param"
        - $ref: "#/parameters/kinds-param"
        - $ref: "#/parameters/product-code-param"
        - $ref: "#/parameters/customer-data-param"
        - $ref: "#/parameters/status-from-date-param"
        - $ref: "#/parameters/request-from-date-param"
        - $ref: "#/parameters/request-to-date-param"
        - $ref: "#/parameters/page-param"
        - $ref: "#/parameters/page-size-param"
        - $ref: "#/parameters/sort-by-param"
        - $ref: "#/parameters/sort-order-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
        - $ref: "#/parameters/application-number-query-param"
        - $ref: "#/parameters/username-query-param"
        - $ref: "#/parameters/obligation-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/application-list'
        default:
          $ref: '#/responses/default-error-response'
    post:
      summary: Initiates new application
      description: Create new application and returns application number
      tags:
        - Applications
      operationId: Applications_Post
      parameters:
        - name: command
          description: Command with details of application
          in: body
          schema:
            $ref: '#/definitions/initiate-offer-command'
      responses:
        '200':
          description: Application number
          schema:
            type: object
            properties:
              application-number:
                type: string
                description: Created application number.
        default:
          $ref: '#/responses/default-error-response' 

  /applications/{application-number}:
    get:
      summary: Gets details of specific product application
      description: |
        By default returns basic application object. Properties that can be included are:
          - arrangement-requests
          - involved-parties
          - documents
          - exposure-info
      tags:
        - Applications
      x-asee-tags:
        - Shapeable
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/application'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Updates general information about application (updates only application resource)
      tags:
        - Applications
      operationId: Applications_Put
      parameters:
        - $ref: "#/parameters/application-number-param"
        - name: command
          description: Command with details of application
          in: body
          schema:
            $ref: '#/definitions/update-application-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/bind-to-customer:
    post:
      summary: Binding to newly established customer 
      tags:
        - Applications
      operationId: CustomerNumber_Update
      parameters:
        - name: command
          description: Command with details of customer number
          in: body 
          schema:
            $ref: '#/definitions/update-customer-number-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
 
  /applications/{application-number}/arrangement-requests:
    post:
      summary: Creates arrangement requests
      tags:
        - Applications
      parameters:
        - $ref: "#/parameters/application-number-param"
        - name: command
          description: Command with list of application
          in: body
          schema:
            $ref: '#/definitions/arrangement-request'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
    get:
      summary: |
        By default returns list of basic infomation of arrangement requests for specific product application.
        Properties that can be included are:
        - product-snapshot
        - installment-plan
      tags:
        - Applications
      x-asee-tags:
        - Shapeable
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
        - $ref: "#/parameters/include-potential-param"
        
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/arrangement-request-list'
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}:
    get:
      summary: |
        Returns basic arrangement request data. Properties that can be included are:
        - product-snapshot
        - installment-plan
        - collateral-requirements
      tags:
        - Applications
      x-asee-tags:
        - Shapeable
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/arrangement-request-id-param"
        - $ref: "#/parameters/include-param"
        - $ref: "#/parameters/trim-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/arrangement-request'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Updates arrangement requests
      tags:
        - Applications
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with list of application
          in: body
          schema:
            $ref: '#/definitions/arrangement-request'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
    delete:
      summary: Delete arrangement request from application
      tags:
        - Applications
      operationId: ArrangementRequest_Delete
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/arrangement-request-id-param"
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/arrangement-requests-availability:
    post:
      summary: Updates avaiability of arrangement requests within application 
      tags:
        - Applications
      operationId: ArrangementRequestsAvailability_Update
      parameters:
        - $ref: "#/parameters/application-number-param"
        - name: command
          description: Command with details of arangement requess availability
          in: body 
          schema:
            $ref: '#/definitions/arrangement-requests-availability-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/accounts: 
    patch:
      summary: Add account numbers in application
      tags:
        - Applications
      operationId: AccountNumbers_Add
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with details of accounts number
          in: body
          schema:
            $ref: '#/definitions/account-numbers-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/recalculate: 
    post:
      summary: Recalculate arrangement request
      tags:
        - Applications
      operationId: ArrangementRequest_Recalculate
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/availability:
    post:
      summary: Recalculate arrangement request
      tags:
        - Applications
      operationId: ArrangementRequest_SetAvailability
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with details of arrangement request availability
          in: body
          schema:
            $ref: '#/definitions/arrangement-requests-availability'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/approved-limits:
    post:
      summary: Set arrangement request approved limits after assessment
      tags:
        - Applications
      operationId: ArrangementRequest_SetApprovedLimits
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with details of arrangement request approved limits
          in: body
          schema:
            $ref: '#/definitions/approved-limits'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/accepted-values:
    post:
      summary: Set customer accepted values in arrangement request after alternative offer is displayed to client
      tags:
        - Applications
      operationId: ArrangementRequest_SetAcceptedValues
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with details of arrangement request approved limits
          in: body
          schema:
            $ref: '#/definitions/accepted-values'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/collateral-requirements: 
    get:
      summary: Get collateral requrements for arrangement request
      tags: 
        - Applications
      operationId: CollateralRequrements_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/arrangement-request-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/collateral-requirements-list'
        default:
          $ref: '#/responses/default-error-response' 
    post:
      summary: Add collateral requirement in arrangement request
      tags:
        - Applications
      operationId: CollateralRequirement_Add
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/arrangement-request-id-param"
        - name: command
          description: Command with details of collateral requirement
          in: body
          schema:
            $ref: '#/definitions/add-collateral-requirement-command'
      responses:
        '201':
          description: Created
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/collateral-requirements/{collateral-requirement-id}: 
    get:
      summary: Get collateral requirement in arrangement request
      tags:
        - Applications
      operationId: CollateralRequirement_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/arrangement-request-id-param'
        - $ref: '#/parameters/collateral-requirement-id-param'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/collateral-requirement'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Updates collateral requirement in arrangement request
      tags:
        - Applications
      operationId: CollateralRequirement_Put
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/arrangement-request-id-param'
        - $ref: '#/parameters/collateral-requirement-id-param'
        - name: command
          description: Command with details of accounts number
          in: body
          schema:
            $ref: '#/definitions/collateral-requirement'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
    delete:
      summary: Delete collateral requirement in arrangement request
      tags:
        - Applications
      operationId: CollateralRequirement_Delete
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/arrangement-request-id-param"
        - $ref: '#/parameters/collateral-requirement-id-param'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/change-collateral-model:
    post:
      summary: Change collateral model for arrangement request
      tags: 
        - Applications
      operationId: CollateralModel_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/arrangement-request-id-param'
        - name: command
          description: Command with details of collateral requirement
          in: body
          schema:
            $ref: '#/definitions/update-collateral-model-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/arrangement-requests/{arrangement-request-id}/collateral-requirements/validation:
    post:
      summary: Validate collateral requirements for arrangement request
      tags: 
        - Applications
      operationId: CollateralRequirement_Validate
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/arrangement-request-id-param'
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/collateral-requirement-validation'
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/involved-parties:
    get:
      summary: |
        By default returns list of involved parties data from application
        Properties that can be included are:
          - employment-info
          - household-info
          - financial-profile
          - product-usage
          - contact-points
      tags: 
        - Applications
      operationId: InvolvedPartiesData_Get
      x-asee-tags:
        - Shapeable
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/involved-parties-list'
        default:
          $ref: '#/responses/default-error-response'
    post:
      summary: Add new party role with basic customer data in application.
      tags: 
        - Applications
      operationId: PartyData_Add
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with details of party data
          in: body
          schema:
            $ref: '#/definitions/party'
      responses:
        '201':
          description: Created
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/involved-parties/{party-id}:
    get:
      summary: |
        By default retrurns basic party  data in application. 
        Properties that can be included are:
          - employment-date
          - household-info
          - financial-profile
          - product-usage
          - contact-points
      tags:
        - Applications
      operationId: Party_Get
      x-asee-tags:
        - Shapeable
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/party'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update basic (general) party information role data in application
      tags:
        - Applications
      operationId: Party_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party data
          in: body
          schema:
            $ref: '#/definitions/party'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
    delete:
      summary: Delete party role from application
      tags:
        - Applications
      operationId: Party_Delete
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
          
  /applications/{application-number}/involved-parties/{party-id}/employment-info:
    get:
      summary: Get employment information for party role in application.
      tags: 
        - Applications
      operationId: PartyEmploymentInfo_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/employment-data'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update employment information for party role in application.
      tags: 
        - Applications
      operationId: PartyEmploymentInfo_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party employment
          in: body
          schema:
            $ref: '#/definitions/employment-data'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/involved-parties/{party-id}/household-info:
    get:
      summary: Get household information for party role in application.
      tags: 
        - Applications
      operationId: PartyHouseholdInfo_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/household'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update household information for party role in application.
      tags: 
        - Applications
      operationId: PartyHouseholdInfo_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party household
          in: body
          schema:
            $ref: '#/definitions/household'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/involved-parties/{party-id}/financial-profile:
    get:
      summary: Get financial profile for party role in application.
      tags: 
        - Applications
      operationId: PartyFinancialProfile_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/financial-profile'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update financial profile for party role in application.
      tags: 
        - Applications
      operationId: PartyFinancialProfile_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party financial profile
          in: body
          schema:
            $ref: '#/definitions/financial-profile'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/involved-parties/{party-id}/contact-points:
    get:
      summary: Get contact points for party role in application.
      tags: 
        - Applications
      operationId: PartyContactPoints_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/contact-points'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update contact points for party role in application.
      tags: 
        - Applications
      operationId: PartyContactPoints_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party contact points
          in: body
          schema:
            $ref: '#/definitions/contact-points'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/involved-parties/{party-id}/credit-bureau:
    get:
      summary: Get involved party credit bureau data
      tags: 
        - Applications
      operationId: PartyCreditBureauData_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/individual-credit-bureau-data'
        default:
          $ref: '#/responses/default-error-response'
    put:
      summary: Update party credit bureau data.
      tags: 
        - Applications
      operationId: PartyCreditBureauData_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
        - name: command
          description: Command with details of party credit bureau
          in: body
          schema:
            $ref: '#/definitions/individual-credit-bureau-data'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/involved-parties/{party-id}/relationships:
    get:
      summary: Get involved party relationships
      tags: 
        - Applications
      operationId: PartyRelationshis_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/relationships'
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/involved-parties/{party-id}/bank-accounts:
    get:
      summary: Get involved party bank accounts
      tags: 
        - Applications
      operationId: PartyBankAccounts_Get
      parameters:
        - $ref: '#/parameters/application-number-param'
        - $ref: '#/parameters/party-id-param'
      responses:
        '200':
          description: OK
          schema:
              $ref: '#/definitions/bank-account'
        default:
          $ref: '#/responses/default-error-response' 

  /applications/{application-number}/pull-party-data:
    post:
      summary: Pull party data for all involved parties from master party system and update application
      tags: 
        - Applications
      operationId: PartiesData_Pull
      parameters:
        - $ref: '#/parameters/application-number-param'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/status:
    put:
        summary: Update application status
        tags:
          - Applications
        operationId: Application_StatusUpdate
        parameters:
          - $ref: '#/parameters/application-number-param'
          - name: command
            description: Command with details of application status
            in: body
            schema:
              $ref: '#/definitions/update-application-status-command'
        responses:
          '200':
            description: OK
          default:
            $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/cancel:
    post:
      summary: Cancel application
      tags:
        - Applications
      operationId: Application_Cancel
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with details of cancelation reason
          in: body
          schema:
            $ref: '#/definitions/cancel-application-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/accept:
    post:
      summary: Accept application
      tags:
        - Applications
      operationId: Application_Accept
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with details of acceptance
          in: body
          schema:
            $ref: '#/definitions/update-application-status-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
    
  /applications/{application-number}/reject:
    post:
      summary: Reject application
      tags:
        - Applications
      operationId: Application_Reject
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with details of rejection
          in: body
          schema:
            $ref: '#/definitions/update-application-status-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/documents:
    get:
        summary: Gets list of documents based on criteria
        tags:
          - Applications
        operationId: ApplicationDocuments_Get
        parameters:
          - $ref: "#/parameters/application-number-param"
          - $ref: "#/parameters/document-status-param"
          - $ref: "#/parameters/document-names-param"
          - $ref: "#/parameters/document-is-for-signing-param"
          - $ref: "#/parameters/document-is-for-upload-param"
          - $ref: "#/parameters/document-is-composed-from-template-param"
          - $ref: "#/parameters/document-kinds-param"
          - $ref: "#/parameters/document-context-param"
          - $ref: "#/parameters/collateral-id-param"
        responses:
          '200':
            description: OK
            schema:
              $ref: '#/definitions/application-document-list'
          default:
            $ref: '#/responses/default-error-response'
    post:
        summary: Create application document
        tags:
          - Applications
        operationId: ApplicationDocuments_Create
        parameters:
          - $ref: "#/parameters/application-number-param"
          - name: command
            description: Command with documents details
            in: body
            schema:
              $ref: '#/definitions/create-application-document-command'
        responses:
          '200':
            description: OK
            schema:
              $ref: '#/definitions/application-document'
          default:
            $ref: '#/responses/default-error-response'

  /applications/{application-number}/documents/{document-id}:
    delete:
      summary: Delete document from application
      tags:
        - Applications
      operationId: ApplicationDocuments_Delete
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/application-document-id-param"
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/data-for-document-composition:
    get:
      summary: Gets application and totals for document composition
      description: By default returns full application object together with totals.
      tags:
        - Applications
      parameters:
        - $ref: "#/parameters/application-number-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/application-for-document-composition'
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/documents/update-status:
    post:
      summary: Update status of application documents 
      tags: 
        - Applications
      operationId: Documents_Update
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with documents details
          in: body
          schema:
            $ref: '#/definitions/update-application-documents-status-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/documents/validate-required-documentation:
    post:
      summary: Validate required documentation
      tags: 
        - Applications
      operationId: ValidateDocumentationRequirement
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with documents details
          in: body
          schema:
            $ref: '#/definitions/update-application-documents-status-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/questionnaires:
    get:
      summary: Gets list of questionaire data from application
      tags:
        - Applications
      operationId: Questionnaires_Get 
      parameters:
        - $ref: "#/parameters/application-number-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/questionnaire-list'
        default:
          $ref: '#/responses/default-error-response'
    post:
      summary: Post (add/update) questionaire data to application
      tags:
          - Applications
      operationId: Questionnaire_Upsert
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/questionnaire-id-param"
        - name: command
          description: Command with details of customer data
          in: body
          schema:
            $ref: '#/definitions/upsert-questionnaire-command'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/questionnaires/{questionnaire-id}:
    get:
      summary: Get one questionaire data from application
      tags:
        - Applications
      operationId: Questionnaire_Get
      parameters:
        - $ref: "#/parameters/application-number-param"
        - $ref: "#/parameters/questionnaire-id-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/questionnaire'
        default:
          $ref: '#/responses/default-error-response'
    
  /applications/{application-number}/refresh-current-exposure:
    post:
      summary: Update customer's current exposure
      tags: 
        - Applications
      operationId: CurrentExposure_Retrieve
      parameters:
        - $ref: '#/parameters/application-number-param'
      responses:
        '200':
          description: OK
        default:
          $ref: '#/responses/default-error-response'
  
  /applications/{application-number}/calculate-total-exposure:
    post:
      summary: Update current exposure, if needed, then calculate and return total exposure of customer
      tags: 
        - Applications
      operationId: NewExposure_Calculate
      parameters:
        - $ref: '#/parameters/application-number-param'
        - name: command
          description: Command with boolean switch if current exposure should be updated
          in: body
          schema:
            $ref: '#/definitions/calculate-new-exposure-command'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/currency'
        default:
          $ref: '#/responses/default-error-response'

  /applications/{application-number}/available-products:
    get:
        summary: Get available products for Application
        tags: 
         - Applications
        operationId: AvailableProducts_Get
        parameters:
         - $ref: '#/parameters/application-number-param'
         - $ref: '#/parameters/channel-code-query-param'
         - $ref: '#/parameters/customer-id-query-param'
        responses:
          '200':
            description: OK
            schema: 
               $ref: '#/definitions/available-products-list'
          default:
           $ref: '#/responses/default-error-response' 
  
  /calculations/calculate-proposal:
    post:
      summary: |
        Calculate offer based on given conditions. By default returns list of basic infomation of arrangement requests for specific product application.
        Properties that can be included are:
        - product-snapshot
        - conditions
        - installment-plan
      tags:
        - Calculations
      operationId: Offer_Calculate
      x-asee-tags:
        - Shapeable
      parameters:
        - name: command
          description: Offer data and conditions for calculation 
          in: body
          schema:
            $ref: '#/definitions/calculate-proposal-command'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/arrangement-request'
        default:
          $ref: '#/responses/default-error-response'
  
  /calculations/calculate-price:
    post:
      summary: Calculate price based on given conditions
      tags:
        - Calculations
      operationId: Price_Calculate
      parameters:
        - name: command
          description: Data and conditions for price calculation 
          in: body
          schema:
            $ref: '#/definitions/calculate-price-command'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/price-calculation-result'
        default:
          $ref: '#/responses/default-error-response'

  /applications/export:
    get:
      summary: Export customer or prospect GDPR data
      tags:
        - Applications
      operationId: Gdpr_Export
      parameters:
        - $ref: "#/parameters/username-query-param"
        - $ref: "#/parameters/customer-number-query-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/gdpr-export-data'
        default:
          $ref: '#/responses/default-error-response'

  /applications/anonymize:
    post:
      summary: Anonymize customer or prospect GDPR data
      tags:
        - Applications
      operationId: Gdpr_Anonymize
      parameters:
        - name: command
          description: Data and conditions for price calculation 
          in: body
          schema:
            $ref: '#/definitions/anonymize-gdpr-data-command'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/gdpr-data'
        default:
          $ref: '#/responses/default-error-response'

  /classifications:
    get:
      summary: List all classification schemas used by the API
      description: Some fields and parameters have been restricted to a list of allowed lookup values maintained by the bank. This method lists all schemas used in this API.
      operationId: "Classifications_GetList"
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/classification-list'
        default:
          $ref: '#/responses/default-error-response'
      tags:
        - Classifications

  /classifications/{schema-id}:
    get:
      summary: List values allowed by given classification schema.
      description: Returns all classification values for chosen classification.
      operationId: Classifications_Get
      parameters:
        - $ref: '#/parameters/schema-id-param'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/classification'
        default:
          $ref: '#/responses/default-error-response'
      tags:
        - Classifications


  /reporting/applications-by-status:
    get: 
      summary: Get applications count by status 
      tags: 
        - Applications
      operationId: ApplicationsStatus_Get
      responses: 
        '200': 
          description: OK
          schema:
            $ref: '#/definitions/applications-count-by-status' 
        default:
            $ref: '#/responses/default-error-response'

responses:
  default-error-response:
    description: Besides specific status codes above, other standard http [status codes](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) can be returned for each request. To learn more see general guidance on [error handling](common-getstarted.html#error-handling)

parameters:

  application-number-param:
    name: application-number
    description: Unique identifier for workitem.
    type: string
    in: path
    required: true
  
  customer-number-param:
    name: customer-number
    description: Unique identifier for customer in party master system.
    type: string
    in: path
    required: true
  
  party-id-param:
    name: party-id
    description: Unique identifier for party role in application.
    type: number
    format: integer
    in: path
    required: true
  
  arrangement-request-id-param:
    name: arrangement-request-id
    description: Unique identifier for arrangement request in application.
    type: number
    format: integer
    in: path
    required: true
  
  collateral-requirement-id-param:
    name: collateral-requirement-id
    description: Unique identifier for collateral requirement in arrangement request.
    type: number
    format: integer
    in: path
    required: true

  statuses-param:
    name: statuses
    description: |
      Application statuses to filter the result. If empty or not present applications having any status are returned
      For complete list of possible values see [application-statuses](offer-classifications.html#application-statuses) enumeration.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: [draft, accepted, active, rejected, canceled, approved]
  
  kinds-param:
    name: kinds
    description: |
      Arrangement request kinds to filter the results. If empty or not present all kinds are returned
      For complete list of possible values see [arrangement-kinds](offer-classifications.html#arrangement-kinds) enumeration.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facility, credit-card-facility, electronic-access-arrangement, card-access-arrangement, securities-arrangement, other-product-arrangement]
  
  product-code-param:
    name: product-code
    description: Product code by which a product can be identified
    type: string
    in: query

  customer-data-param:
    description: Customer data (name, surname, customer number, email, phone or identification number) to filter the result.
    type: string
    name: customer-data
    in: query
  
  channel-code-query-param:
    description: Channel code by which a channel can be identified
    type: string
    name: channel-code
    in: query
  
  customer-id-query-param:
    description: Unique identifier for Customer in party master system
    type: string
    name: customer-id
    in: query
    
  status-from-date-param:
    name: status-from-date
    description: It is used to filter only those resources that changed their status from specific date (including that date). Date should be specified in ISO 8601 format.
    type: string
    format: date
    in: query
    minLength: 10
    maxLength: 10

  request-from-date-param:
    name: date-from
    description: It is used to filter only those resources that are created from specific date (including that date). Date should be specified in ISO 8601 format.
    type: string
    format: date
    in: query
    minLength: 10
    maxLength: 10
  
  request-to-date-param:
    name: date-to
    description: It is used to filter only those resources that are created until specific date (including that date). Date should be specified in ISO 8601 format.
    type: string
    format: date
    in: query
    minLength: 10
    maxLength: 10
    
  application-document-id-param:
    name: document-id
    description: Unique identifier of application document within application
    type: number
    in: path
    required: true

  document-status-param:
    name: status
    description: |
      Application document statuses to filter the result. If empty or not present application document having any status are returned.
      For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: ['empty','composed', 'uploaded', 'signed', 'accepted-by-customer']
  
  document-names-param:
    name: document-names
    description: |
      Application document names to filter the result. If empty or not present application document having any name are returned.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
  
  document-is-for-signing-param:
    name: is-for-signing
    description: Indicates wether only document for signig should be returned
    type: boolean
    in: query

  document-is-for-upload-param:
    name: is-for-upload
    description: Indicates wether only document for upload should be returned
    type: boolean
    in: query
  
  document-is-composed-from-template-param:
    name: document-is-composed-from-template
    description: Indicates wether only document for composition should be returned
    type: boolean
    in: query
  
  document-kinds-param:
    name: document-kinds
    description: |
      Application document kinds to filter the result. If empty or not present application document having any kind are returned.
      For a list of possible values see [document-kind](offer-classifications.html#document-kind) classification.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string

  document-context-param:
    name: document-context
    description: |
      Application document context to filter the result. If empty or not present application document having any context are returned.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: ['application','party', 'collateral', 'arrangement-request', 'collateral-arrangement']

  collateral-id-param:
    name: schema-id
    description: Colalteral id to filter tehe result.
    in: query
    type: string

  schema-id-param:
    name: schema-id
    description: Identifier of classification schema
    in: path
    required: true
    type: string
  
  page-param:
    name: page
    in: query
    description: Page index. For more information see general guidance on [paging](common-getstarted.html#paging)
    type: integer
    default: 1
    x-asee-common: true
  
  page-size-param:
    name: page-size
    in: query
    description: Number of items on a page. For more information see general guidance on [paging](common-getstarted.html#paging)
    required: false
    type: integer
    default: 10
    x-asee-common: true
  
  sort-order-param:
    description: Sort order (`asc` or `desc`). Default is asc. For more information see general guidance on [sorting](common-getstarted.html#sorting)
    in: query
    name: sort-order
    type: string
    default: asc
    enum: [asc, desc]
    x-asee-common: true

  sort-by-param:
    description: Attribute of the collection item to sort by. For more information see general guidance on [sorting](common-getstarted.html#sorting)
    in: query
    name: sort-by
    type: string
    x-asee-common: true

  include-param:
    description: List of fields to include in response. For more information see general guidance on [response shaping](common-getstarted.html#shaping)
    in: query
    name: include
    type: array
    items:
      type: string
    collectionFormat: csv
    x-asee-common: true

  trim-param:
    description: List of fields to trim from response. For more information see general guidance on [response shaping](common-getstarted.html#shaping)
    in: query
    name: trim
    type: array
    items:
      type: string
    collectionFormat: csv
    x-asee-common: true
  
  include-potential-param:
    description: Indicates should potential bundled arrangement requests be returned
    name: include-potential
    type: boolean
    in: query
  
  application-number-query-param:
    name: application-number
    description: String that represents part of unique identifier for application.
    type: string
    in: query

  obligation-param:
    name: obligation
    description: Obligation used in authorization.
    type: string
    in: header
  
  username-query-param:
    name: username
    description: Username to filter the result.
    type: string
    in: query
  
  customer-number-query-param:
    name: customer-number
    description: Username to filter the result.
    type: string
    in: query

  questionnaire-id-param:
    name: questionnaire-id
    description: Unique identifier for questionnaire.
    type: integer
    in: path
    required: true

definitions:

  initiate-offer-command:
    description: Parameters to create new offer
    required:
      - product-code
    properties:
      mobile-phone:
        description: Mobile phone number
        type: string
      email-address:
        description: Email address
        type: string
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string
        description: The primary name assigned to the product used in reports and documents
      given-name:
        type: string
        description: Name given to individual at birth usually by parents. 
      surname:
        type: string
        description: Part of an individual's name which belongs to the family the individual is a part of.
      parent-name:
        type: string
        description: Name of one parent.  
      identification-number-kind:
        type: string
        description: |
          Kind of customer identification document
          For a list of possible values see [identification-kind](party-classifications.html#identification-kind) enumeration.
        enum: [registration-number, tax-id-number, personal-id-number, identity-card-number, passport-number, driver-license-number, social-security-number]
      identification-number:
        type: string
        description: Identification number      
      currency:
        type: string
        description: Currency of financial amount as ISO 4217 3 letter currency code
        format: ISO 4217 3-letter     
      amount:
        description: Financial amount
        type: number
        format: decimal
      annuity:
        description: Annuity amount
        type: number
        format: decimal     
      term:
        type: string
        description: The term of financial service. For non-financial services this fiels is optional
        format: ISO 8601 duration
      interest-rate:
        description: Calculated interest rate
        type:  number
        format: decimal
      downpayment-amount:
        description: Downpayment amount
        type: number
        format: decimal
      invoice-amount:
        description: Amount of the invoice if exists
        type: number
        format: decimal
      username:
        description: Username of customer or agent who initiate application
        type: string
      country-code:
        type: string
        description: Customer country code that imapcts on type for identity documents, default phone format and etc
        format: Country three-digit numeric code (Standard ISO 3166-1 numeric)
      preferred-culture:
        type: string
        description: Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. Each subtag refines or narrows the range of language variants identified by the tag. For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase)       
      customer-number:
        type: string
        description: Customer number  
      drawdown-period:
        description: Drowdown period
        type: string
        format: ISO 8601 duration
      drawdown-period-start-date:
        description:  Drowdown period start date
        type: string
        format: ISO 8601 date
      grace-period:
        description: Grace period
        type: string
        format: ISO 8601 duration
      grace-period-start-date:
        description: Grace period start date
        type: string
        format: ISO 8601 date     
      repayment-period:
        description: Repayment period
        type: string
        format: ISO 8601 duration  
      repayment-period-start-date:
        description: Repayment period start date
        type: string
        format: ISO 8601 date        
      maturity-date:
        description: Maturity date
        type: string
        format: ISO 8601 date       
      conditions:
        description: Financial conditions that are different from product conditions (for example sales discount)
        type: object
        $ref: '#/definitions/financial-conditions'
      channel:
        type: string
        description: Channel code
      is-customer:
        type: boolean
        description: Determines if customer is applying or agent applies on customer's behalf
      party-kind:
        type: string
        description: |
          Discriminator whether party is individual or organization
          For a list of possible values see [party-kinds](party-classifications.html#party-kinds) enumeration.
        enum: [individual, organization]
      product-options: 
        type: array
        description: Represents list of selected product options. 
        items:
          $ref: '#/definitions/product-options'
      is-refinancing:
        type: boolean
        description: Is this application used for refinancing
      revolving-percentage:  
        type: number
        format: decimal
        description: Value of revolving percentage for credit cards
      downpayment-percentage:
        type: number
        format: decimal
        description: Percentage of invoice amount that is used as downpayment
      signing-option:
        type: string
        description: |
          Indicates how and where customer chose to sign agreement documents
          For complete list of possible values see [signing-options](offer-classifications.html#signing-options) enumeration.
        enum: [branch, courier, online]       
  
  product-options:
    type: object
    properties:
      description: 
        type: string
      code: 
        type: string
      effects: 
        type: array
        description: List of benefits
        items:
          $ref: '#/definitions/effects'
      group-code:
        type: string
      group-description: 
        type: string  
  
  effects:
    type: object
    properties: 
      code:
        type: string
      value: 
        type: number
        format: decimal
      kind: 
        type: string
        description: Refers to campaign benefit-kind classification
        
  update-application-command:
    type: object
    description: Basic information about client application
    required:
      - product-code
      - channel-code
    properties:   
      application-number:
        type: string
        description: Application number
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string   
        description: The primary name assigned to the product used in reports and documents
      customer-number:
        type: string
        description: Customer number
      customer-name:
        type: string
        description: Customer name
      customer-segment:
        type: string
        description: One value from list of customer segments defined in Party API [customer-segments](party-classifications.md#customer-segments)
      organization-unit-id:
        type: string
        description: Organization unit
      channel-code:
        type: string
        description: Channel code      
      portfolio-id:
        type: string
        description: Portfolio Id 
      campaign-code:
        type: string
        description: Campaign code
      decision-number:
        type: string
        description: Number of decision for appilaction approval
      settlement-account:
        type: string
        description: Customer settlement account
      arrangement-number:
        type: string
        description: Number of arrangement
      initiator:
        type: string
        description: Name of the user who initiated the application
      country-code:
        type: string
        description: Customer country code that imapcts on type for identity documents, default phone format and etc
        format: Country three-digit numeric code (Standard ISO 3166-1 numeric)
      preferred-culture:
        type: string
        description: Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. Each subtag refines or narrows the range of language variants identified by the tag. For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase)
      signing-option:
        type: string
        description: |
          Indicates how and where customer chose to sign agreement documents
          For complete list of possible values see [signing-options](offer-classifications.html#signing-options) enumeration.
        enum: [branch, courier, online]  
      collateral-model:
        type: string
        description: Collateral model for this application
      product-bundling: 
          type: string
          description: Product bundle code
      risk-score:
          type: number
          description: Customer risk score
      status-information:
        type: object
        description: Customer status description for online application view
        $ref: '#/definitions/status-information'
      requested-activation-date:
        type: string
        description: Date when application should be activated
        format: date
      comments:
        type: string
        description: Comments
      term-limit-breached:
        type: boolean
        description: Indicate if term limit is breached during negotiations
      ammount-limit-breached:
        type: boolean
        description: Indicate if amount limit is breached during negotiations
      preferencial-price:
        type: boolean
        description: Inidcate if custom discounts from agent are included in price 
      credit-rating:
        type: string
        description: Customer credit raiting based on official classification. This parameter is used in risk based pricing
      customer-value:
        type: number
        description: Customer lifetime value, calculated in external systems, that is used in risk based pricing.
        format: decimal 
      debt-to-income:
        type: number
        description: Percentage of a consumer's monthly income that goes toward paying debts and other obligations (expenses).
        format: decimal
 
  update-customer-number-command:
    description: Parameters to update customer number in application and all other user applications
    required:
      - application-number
      - customer-number
      - username
    properties:
      application-number:
        type: string
        description: Unique identifier for application workitem
      customer-number: 
        type: string
        description: Customer number from core system
      username:
        type: string
        description: Customer username
  
  arrangement-requests-availability-command:
    type: object
    description: Parameters to update arrangement requests availability
    properties:
      application-number:
        type: string
        description: Unique identifier for application
      availabilities:
        type: array
        description: List of arrangement requests availability parameters
        items:
          $ref: '#/definitions/arrangement-requests-availability'
  
  arrangement-requests-availability:
    type: object
    description: Arrangement request availability parameter
    properties:
      arrangement-request-id:
        type: number
        description: Unique identifier for arrangement request
        format: integer
      enabled:
        type: boolean
        description: Indicates whether arrangement request should be enabled or disabled

  account-numbers-command:
    description: Parameters to update account numbers for application arrangement requests
    properties:
      account-numbers:
        description: List of arrangement requests with their account numbers and account role
        type: array
        items:
          $ref: '#/definitions/account-numbers'
  
  account-numbers:
    description: Arrangement request account number and his role
    type: object
    required:
      - arrangement-account-role-kind
      - account-number
    properties:
      arrangement-account-role-kind:
        description: |
          The role account plays in context of the arrangements.
          For complete list of possible values see [arrangement-account-role-kinds](arrangement-classifications.md#arrangement-account-role-kinds) enumerations.
        type: string
        enum: ['primary-account','settlement-account','sub-account','other']
      account-number:
        description: Account number
        type: string
  
  add-collateral-requirement-command:
    description: Command for adding collateral requirement in application
    properties:
      collateral-arrangement-code:
        description: |
          Defines type of collateral arrangement, for example vehicle-pledge, bond-pledge, commodity-pledge etc...
          For a list of possible values see [collateral-arrangement-code](collateral-classifications.md#collateral-arrangement-code) classifications.
        type: string
        x-asee-classification: collateral-arrangement-code
      minimal-coverage:
        description: Percentage of the loan that has to be covered with this type of collatera
        type: number
        format: decimal
      collateral-owner:
        description: Customer number who owns collateral
        type: string

  update-collateral-requirement-command:
    description: Command for adding collateral requirement in application
    properties:
      collateral-arrangement-code:
        description: |
          Defines type of collateral arrangement, for example vehicle-pledge, bond-pledge, commodity-pledge etc...
          For a list of possible values see [collateral-arrangement-code](collateral-classifications.md#collateral-arrangement-code) classifications.
        type: string
        x-asee-classification: collateral-arrangement-code
      from-model:
        description: Fleg that idicates that requirement is related to required collateral model
        type: boolean
      minimal-coverage:
        description: Percentage of the loan that has to be covered with this type of collatera
        type: number
        format: decimal
      minimal-coverage-in-loan-currency:
        description: Calculated as % applied on loan amount
        type: number
        format: decimal
      actual-coverage:
        description: Sum of effective pledged values bind to this collateral requirement and converted to loan currency
        type: number
        format: decimal
      secured-deal-links:
        description: List of pledged collateral arrangements
        type: array
        items:
          $ref: '#/definitions/secured-deal-link'
      collateral-owner:
        description: Party ID of collateral owner
        type: integer


  update-collateral-model-command:
    description: Command for adding collateral requirement in application
    properties:
      collateral-model:
        description: Collateral model that will be updated
        type: string


  create-application-document-command:
    description: Documents related to application
    required:
      - document-context-kind
      - document-name
      - document-kind
    properties:
      document-context-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [document-context-kind](offer-classifications.html#document-context-kind) enumeration.
        enum: [application, party, collateral, arrangement-request]
      arrangement-request-id:
        type: number
        description: Identifier of arrangement request within application
      collateral-id:
        type: number
        description: Identifier of collateral within application
      party-id:
        type: number
        description: Identifier of document within application
      document-name:
        type: string
        description: Name of the document
      document-kind:
        type: string
        description: Document kind
      document-review-period:
        type: string
        description: Time period when document should be reviewed
        format: ISO 8601 duration
      is-composed-from-template:
        type: boolean
        description: Should document be composed from template
      template-url:
        type: string
        description: Template URL in content management
        format: url
      is-mandatory:
        type: boolean
        description: Is document mandatory
      is-for-signing:
        type: boolean
        description: Should document be signed
      is-for-upload:
        type: boolean
        description: Should document be uploaded
      is-for-physical-archiving:
        type: boolean
        description: Does document needs to be physical archived { get; set; }
      is-internal:
        type: boolean
        description: Is document internal
      document-origin:
        type: string
        description: |
          Indicate weather is document created from product definition or by agent manually.
          For a list of possible values see [document-orign](offer-classifications.html#document-origin) enumeration.
        enum: [product, process, agent]

  update-application-documents-status-command:
    description: Parameters for document update
    required:
      - document-ids
      - status
    properties:
      document-ids:
        description:  List of documents for update
        type: array
        items:
          type: number
          description: Application document id
          format: integer
      status:
        type: string
        description: |
          Current status of the document.
          For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
        enum: [empty, composed, uploaded, signed, accepted-by-customer]

  application-document-list:
    description: List of application documents
    type: array
    items: 
      $ref: '#/definitions/application-document-view'
  
  application-document-view:
    description: View of application document
    type: object
    properties:
      application-number:
        type: string
        description: Reference of parent application number
      document-id:
        type: number
        description: Autogenerated identifier
      document-context-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [document-context-kind](offer-classifications.html#document-context-kind) enumeration.
        enum: [application, party, collateral, arrangement-request]
      context:
        type: string
        description: Context
      document-context-info:
        type: string
        description: Derivated information about document context like customer name, product name, collateral kind etc..
      arrangement-request-id:
        type: number
        description: Identifier of arrangement request within application
      collateral-id:
        type: number
        description: Identifier of collateral within application
      party-id:
        type: number
        description: Identifier of document within application
      document-name:
        type: string
        description: Name of the document
      document-kind:
        type: string
        description: Document kind
      document-review-period:
        type: string
        description: Time period when document should be reviewed
        format: ISO 8601 duration
      is-mandatory:
        type: boolean
        description: Is document mandatory
      is-composed-from-template:
        type: boolean
        description: Should document be composed from template
      template-url:
        type: string
        description: Template URL in content management
        format: url
      is-for-signing:
        type: boolean
        description: Should document be signed
      is-for-upload:
        type: boolean
        description: Should document be uploaded
      is-for-physical-archiving:
        type: boolean
        description: Does document needs to be physical archived
      is-internal:
        type: boolean
        description: Is document internal
      supports-multiple-files:
        type: boolean
        description: Does document supports multiple files 
        default: false
      document-origin:
        type: string
        description: |
          Indicate weather is document created from product definition or by agent manually.
          For a list of possible values see [document-origin](offer-classifications.html#document-origin) enumeration.
        enum: [product, agent, process]
      document-status:
        type: string
        description: |
          Current status of the document.
          For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
        enum: [empty, composed, uploaded, signed, accepted-by-customer]

  update-application-status-command:
    description: Application status details
    required:
      - status
    properties:
      status:
        type: string
        description:  |
          Status of application.
          For a list of possible values see [application-statuses](offer-classifications.html#application-statuses) enumeration.
        enum: [draft, accepted, active, rejected, canceled, approved, complete]
      status-information:
        type: object
        description: Customer status description for online application view
        $ref: '#/definitions/status-information'

  cancel-application-command:
    description: Parameters for product origination cancelation
    required:
      - cancelation-reason
    properties:
      cancelation-reason:
        description: Customer's reason to cancel active application
        type: string
        x-asee-classification: cancelation-reasons
      cancelation-comment:
        description: Customer's reason to cancel active application
        type: string

  calculate-new-exposure-command:
    description: Command with switch if current exposure should be updated
    properties: 
      retrieve-current-exposure:
        description: Switch that indicates whether current exposure will be updated
        type: boolean

  upsert-questionnaire-command:
    description: Questionary data for insert/update
    required:
      - questionnaire-id
    properties:
      date:
        type: string
        description: Date when questionarie is inserted/updated
        format: ISO 8601 date
      entries:
        type: object
        description: Questionaire entries
        $ref: '#/definitions/entries'
      questionnaire-name:
        type: string
        description: Name of the wuestionaire
      questionnaire-id:
        type: number
        description: Unique identifier for questionaire related to one application
        format: int
      purpose:
        type: string
        description: Purpose of questionaire like KYC, FATCA, Security, Risk...

  calculate-proposal-command:
    description: Offer data and conditions for calculation 
    properties:  
      arrangement-kind:
        type: string
        description: |
          Enumeration that distinguishes different kinds of product arrangement requests.
          For a list of possible values see [arrangement-kinds](offer-classifications.html#arrangement-kinds) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facilit, credit-card-facility, electronic-access-arrangement, card-access-arrangement, securities-arrangement, other-product-arrangement]
        x-asee-enumeration: arrangement-kinds
      currency:
        type: string
        description: Currency of financial amount as ISO 4217 3 letter currency code
        format: ISO 4217 3-letter     
      amount:
        description: Financial amount
        type: number
        format: decimal
      annuity:
        description: Annuity amount
        type: number
        format: decimal     
      term:
        description: The term of financial service. For non-financial services this fiels is optional
        type: string
        format: ISO 8601 duration
      calculation-date:
        description: Date of calculation which indicates with which coditions calculation should be performed
        type: string
        format: ISO 8601 date
      interest-rate:
        description: Calculated interest rate
        type: number
        format: decimal
      downpayment-amount:
        description: Downpayment amount
        type: number
        format: decimal
      downpayment-percentage:
        description: Downpayment percentage
        type: number
        format: decimal
      invoice-amount: 
        description: Amount of the invoice if exists
        type: number
        format: decimal
      minimal-downpayment-percentage:
        description: Minimal dowmpayment percend defined in product configuration
        type: number
        format: decimal
      channel:
        description: Channel code
        type: string
      risk-score:
        description: Customer risk score
        type: number
        format: decimal
      credit-rating:
        description: Customer credit rating
        type: string
      customer-value:
        description: Customer value
        type: number
        format: decimal
      debt-to-income:
        description: Calculated debt to income
        type: number
        format: decimal
      customer-segment:
        description: One value from list of customer segments defined in Party API [customer-segments](party-classifications.md#customer-segments)
        type: string
      part-of-bundle:
        description: product bundle code
        type: string
      collateral-model:
        description: Default collateral model defined in product service
        type: string
      product-conditions:
        description: Product conditions from product definition
        type: object
        $ref: '#/definitions/financial-conditions'
      conditions: 
        description: Conditions for specific arrangement
        type: object
        $ref: '#/definitions/financial-conditions'
      campaign:
        description: Information describing a campaign 
        $ref: '#/definitions/campaign'
      options: 
        description: List of product options
        type: array
        items: 
          $ref: '#/definitions/product-option'

  calculate-price-command:
    description: Data and conditions for price calculation 
    properties:
      arrangement-kind:
        type: string
        description: |
          Enumeration that distinguishes different kinds of product arrangement requests.
          For a list of possible values see [arrangement-kinds](offer-classifications.html#arrangement-kinds) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facilit, credit-card-facility, electronic-access-arrangement, card-access-arrangement, securities-arrangement, other-product-arrangement]
        x-asee-enumeration: arrangement-kind 
      currency:
        type: string
        description: Currency of financial amount as ISO 4217 3 letter currency code
        format: ISO 4217 3-letter     
      amount:
        description: Financial amount
        type: number
        format: decimal
      term:
        description: The term of financial service. For non-financial services this fiels is optional
        type: string
        format: ISO 8601 duration
      fees:
        description: List of fees that impact price calculation
        type: array
        items:
          $ref: '#/definitions/fee-condition'
      interest-rates:
        description: List of interest rates that impact price calculation
        type: array
        items:
          $ref: '#/definitions/interest-rate-condition'
      channel:
        description: Channel code
        type: string
      risk-score:
        description: Customer risk score
        type: number
        format: decimal
      customer-segment:
        description: One value from list of customer segments defined in Party API [customer-segments](party-classifications.md#customer-segments)
        type: string
      product-bundling:
        description: product bundle code
        type: string
      collateral-model:
        description: Default collateral model defined in product service
        type: string
      credit-rating:
        description: Customer credit rating
        type: string
      customer-value:
        description: Customer value
        type: number
        format: decimal
      debt-to-income:
        description: Calculated debt to income
        type: number
        format: decimal
      campaign:
        description: Information describing a campaign 
        $ref: '#/definitions/campaign'
      options: 
        description: List of product options
        type: array
        items: 
          $ref: '#/definitions/product-option'

  anonymize-gdpr-data-command:
    description: Command for gdpr data anonymization
    properties:
      username:
        description: Username of customer or agent who initiate application
        type: string
      customer-name:
        type: string
        description: The name of the Party that is involved 

  price-calculation-result:
    description: Price calculation result
    properties:
      fees:
        description: List of arrangement fee conditions. Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/fee-condition'
      interest-rates:
        description: List of arrangement interest conditions. Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/interest-rate-condition'
      napr:
        description: Nominal interest rate
        type: number
        format: decimal
      result-changed:
        description: Has result changed from previous
        type: boolean

  questionnaire-list:
    description: List of questionaire data from application
    type: object
    properties:
      questionnaire-list:
          type: array
          description: List of questionaire data from application
          items:
            $ref: '#/definitions/questionnaire'

  questionnaire:
    description: Questionaire basic data
    type: object
    properties:
      application-number:
        type: string
        description: Unique identifier for application workitem
        readOnly: true
      questionnaire-id:
        type: number
        description: Unique identifier for questionaire related to one application
        format: int
      purpose:
        type: string
        description: Purpose of questionaire like KYC, FATCA, Security, Risk...
      date:
        type: string
        description: Date of questionaire fulfillment
        format: ISO 8601 date
      questionnaire-name:
        type: string
        description: Name of questionaire
  
  generic-questionnaire:
    description: Questionaire with generic key-value pairs
    type: object
    allOf:
      - $ref: '#/definitions/questionnaire'
    properties:
      entries:
        type: object
        description: Questionaire entries
        $ref: '#/definitions/entries'
  
  entries:
    type: object
    description: Dictionary object with key/value pairs
    additionalProperties:
      type: string
  
  financial-questionnaire:
    description: Questionaire with financial entries generic key-value pairs
    type: object
    allOf:
      - $ref: '#/definitions/questionnaire'
    properties:
      entries:
        type: array
        description: Financial questionaire entries
        items:
          $ref: '#/definitions/financial-entry'

  financial-entry:
    description: Questionaire financial entry
    type: object
    properties:
      kind:
        type: string
        description: Kind or unique position code (read from configuration repository due to questionnaire name)
      description:
        type: string
        description: Description of entry
      amount:
        type: number
        description: Financial amount
        format: decimal
      currency:
        type: string
        description: Currency of financial amount as ISO 4217 3 letter currency code
        format: ISO 4217 3-letter
      converted-amount:
        type: number
        description: Calculate amount in target currency
        format: decimal
 
  applications-count-by-status:
    description: List of application count by application statuses
    items:  
        type: array
        $ref: '#/definitions/applications-status-count-info' 
    example:
    - status: approved
      count: 2
    - status: active
      count: 3
    - status: complete
      count: 4       
    - status: draft
      count: 12    
      
  applications-status-count-info:
    properties:
     status:
      type: string
     count:
      type: integer 
    
    
  application-view: 
    description: Common information to all kinds of product applications
    properties:
      application-number:
        type: string
        description: Unique identifier for application workitem
        readOnly: true
      kind:
        type: string
        description: |
          Enumeration that distinguishes different kinds of product arrangement requests.
          For a list of possible values see [arrangement-kinds](offer-classifications.html#arrangement-kinds) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facilit, credit-card-facility, electronic-access-arrangement, card-access-arrangement, securities-arrangement, other-product-arrangement]
        x-asee-enumeration: arrangement-kinds
      status:
        type: string
        description: |
          Status of application.
          For a list of possible values see [application-statuses](offer-classifications.html#application-statuses) enumeration.
        enum: [draft, accepted, active, rejected, canceled, approved, complete]
        readOnly: true
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string
        description: The primary name assigned to the product used in reports and documents   
      customer-number:
        type: string
        description: Customer number of the owner of the arrangement
      customer-name:
        type: string      
        description: Customer name
      organization-unit-id:
        type: string
        description: Organization unit ID
      channel-code:
        type: string
        description: A code of channel from where application is initiated
      portfolio-id:
        type: string
        description: Portfolio ID
      campaign-code: 
        type: string
        description: A code by which a campaign can be identified
      signing-option:   
        type: string 
        description: |
          Indicates how and where customer chose to sign agreement documents
          For complete list of possible values see [signing-options](offer-classifications.html#signing-options) enumeration.
        enum: [branch, courier, online]  
      request-date:
        type: string
        description: Date when application was accepted for processing
        format: ISO 8601 date
      created:
        type: string
        description: Date when application was created for processing
        format: ISO 8601 date
      expiration-date:
        type: string
        description: Date indicating expiration date
        format: ISO 8601 date  
      status-change-date:
        type: string
        description: Date when application status was changed 
        format: ISO 8601 date    
      last-modified: 
        type: string 
        description: Date when application was last modified
        format: ISO 8601 date
      created-by-name: 
        type: string
        description: Name of the agent (bank employee) responsible for opening process, who created product account opening
      term:
        type: string
        description: The term of financial service. For non-financial services this fiels is optional
        format: ISO 8601 duration
      amount:
        type: number
        description: Amount of primary arrangement request (arrangement request that initiate application) in application 
        format: decimal
      currency:
        type: string
        description: Currency of primary arrangement request (arrangement request that initiate application) in application 
        format: ISO 4217 3-letter currency code
      originates-bundle:
        type: boolean
        description: Indicate if application originates bundle product

  application-view-list:
    description: List of applications view with basic application data
    allOf:
      - $ref: '#/definitions/paged-list'
    properties:
      applications:
        description: List of applications
        items:
          $ref: '#/definitions/application-view'
        type: array
    type: object
  
  application-list:
    description: List of applications
    allOf:
      - $ref: '#/definitions/paged-list'
    properties:
      applications:
        description: List of applications
        items:
          $ref: '#/definitions/application'
        type: array
    type: object
  
  available-products-list:
    type: object
    description: List of available products for a given application
    properties: 
      products: 
       properties:
        items:
          description: List of available products
          items: 
            $ref: '#/definitions/available-products'
          type: array
    example:
     products:
      items:
       - product-name: "Master credit card"
         kind: "credit-card-facility-product"
         is-related: true
       - product-name: Credit Cards
         kind: "abstract-product"
         is-related: true
       - product-name: "Device Loan"
         kind: "term-loan-product"
         is-related: true
         
  available-products:
    type: object
    description: Information on the product that is available for the given application
    properties: 
      product-name:
        type: string
        description: Product name
      product-code:
        type: string
        description: Product code
      image-url:
        type: string
        description: Product image URL in content management
      benefits-info:
        type: string
        description: Identifies a product benefits info
      description:
        type: string
        description: Product description
      kind: 
        type: string
        description: |
          Classification of products according to its nature and scope
          For a list of possible values see [product-kinds](product-classifications.html#product-kind) enumeration.
        enum: [current-account-product, demand-deposit-product, term-deposit-product, term-loan-product, credit-facility-product, credit-card-facility-product, overdraft-facility-product, credit-line-product, card-access-product, electronic-acess-product, service, abstract-product]
      is-related:
        type: boolean 
        description: Is product related to ....    
      arrangement-request-id:
        type: number
        description: Unique identificator of arrangement request whithin application
        format: integer
     
  arrangement-request-view:
    type: object
    description: Basic infomation about arrangement request. List of products, amounts and terms.
    properties:
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string   
        description: The primary name assigned to the product used in reports and documents
      term:
        type: string
        description: The term of financial service. For non-financial services this fiels is optional
        format: ISO 8601 duration
      amount:
        type: number
        description: Amount of arrangement request
        format: decimal
      currency:
        type: string
        description: Arrangement request currency
        format: ISO 4217 3-letter currency code

  application:
    type: object
    description: Detailed information about client application
    properties:
      application-number:
        type: string
        description: Unique identifier for application workitem
        readOnly: true
      exposure-info:
        type: object
        description: Exposure data for client
        $ref: '#/definitions/exposure-info'    
      status:
        type: string
        description: |
          Status of application.
          For a list of possible values see [application-statuses](offer-classifications.html#application-statuses) enumeration.
        enum: [draft, accepted, active, rejected, canceled, approved, complete]
        readOnly: true 
      phase:
        type: string
        description: |
          Application current phase      
          For a list of possible values see [application-phases](offer-classifications.html#application-phases) classification.
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string   
        description: The primary name assigned to the product used in reports and documents
      customer-number:
        type: string
        description: Customer number
      customer-name:
        type: string
        description: Customer name
      customer-segment:
        type: string
        description: One value from list of customer segments defined in Party API [customer-segments](party-classifications.md#customer-segments)
      organization-unit-id:
        type: string
        description: Organization unit
      channel-code:
        type: string
        description: Channel code      
      portfolio-id:
        type: string
        description: Portfolio Id
      campaign-code:
        type: string
        description: Campaign code
      decision-number:
        type: string
        description: Number of decision for application approvement
      settlement-account:
        type: string
        description: Customer settlement account
      arrangement-number:
        type: string
        description: Number of arrangement
      initiator:
        type: string
        description: Username of customer or agent who initiate application
      country-code:
        type: string
        description: Customer country code that imapcts on type for identity documents, default phone format and etc
        format: Country three-digit numeric code (Standard ISO 3166-1 numeric)
      preferred-culture:
        type: string
        description: Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. Each subtag refines or narrows the range of language variants identified by the tag. For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase)
      signing-option:
        type: string
        description: |
          Indicates how and where customer chose to sign agreement documents
          For complete list of possible values see [signing-options](offer-classifications.html#signing-options) enumeration.
        enum: [branch, courier, online]  
      collateral-model:
        type: string
        description: Collateral model for this application
      status-information:
        type: object
        description: Customer status description for online application view
        $ref: '#/definitions/status-information'
      request-date:
        type: string
        description: Date when application was accepted for processing
        format: date
        readOnly: true
      expiration-date:
        type: string
        description: Expiration date
        format: date-time
        readOnly: true
      cancelation-reason:
        description: Customer's reason to cancel active application
        type: string
        x-asee-classification: cancelation-reasons
      cancelation-comment: 
        description: Comment describing cancellation reason
        type: string
      created:
        type: string
        description: Date and time when application was recorded in the system
        format: date-time
        readOnly: true
      status-change-date:
        type: string
        description: Date and time when application status changed
        format: date-time
        readOnly: true
      last-modified:
        type: string
        description: Date and time when application was last modified
        format: date-time
        readOnly: true
      created-by-name:
        type: string
        description: Name of the agent (bank employee) responsible for opening process, who created product account opening
        readOnly: true
      requested-activation-date:
        type: string
        description: Date when application should be activated
        format: date
      comments:
        type: string
        description: Comments
      arrangement-requests:
        type: array
        description: List of arrangement requests that are the part of application.
        items:
          $ref: '#/definitions/arrangement-request'
      involved-parties:
        type: array
        description: List of references to parties that play some roles in context of the application.
        items:
          $ref: '#/definitions/party'
      questionnaires:
        type: array
        description: List of questionnaires that should be provided with information in context of the application.
        items:
          $ref: '#/definitions/questionnaire'    
      documents:
        type: array
        description: List of documents that should be provided in context of application
        items:
          $ref: '#/definitions/application-document' 
      term-limit-breached:
        type: boolean
        description: Indicate if term limit is breached during negotiations
      ammount-limit-breached:
        type: boolean
        description: Indicate if amount limit is breached during negotiations
      preferencial-price:
        type: boolean
        description: Inidcate if custom discounts from agent are included in price 
      loan-to-value:
        type: number
        description: Ratio that represents size of a loan you take out compared to the value of the property securing the loan.
        format: decimal
      maximal-annuity:   
        type: number
        description:  Maximal value of annuity that customer is able to pay according to his credit ability.
        format: decimal
      maximal-amount: 
        type: number
        description: Maximal loan amount that customer is able to take according to his credit ability.
        format: decimal
      debt-to-income:
        type: number
        description: Percentage of a consumer's monthly income that goes toward paying debts and other obligations (expenses).
        format: decimal
      customer-remaining-ability-to-pay:
        type: number
        description: Difference between total monthly incomes and expenses including current application.
        format: decimal
      effective-remaining-ability-to-pay:
        type: number
        description: Difference between total monthly incomes and expenses excluding current application.
        format: decimal
      is-pre-approved:
        type: boolean
        description: Indicates whether application is pre-approved in campaign or other way
      pre-approval-type: 
        type: string
        description: Classification from campaign which defines pre-approval type that indicates assessment flow.
        enum: [auto-approved, cb-only, personal-id-number, cb-and-atp]
      originates-bundle: 
        type: boolean
        description: Indicates whether this is bundle application.
      risk-score:
        type: number
        description: Customer risk score value, calculated in scoring process, that is used in risk based pricing.
        format: decimal
      credit-rating:
        type: string
        description: Customer credit raiting based on official classification. This parameter is used in risk based pricing
      customer-value:
        type: number
        description: Customer lifetime value, calculated in external systems, that is used in risk based pricing.
        format: decimal 

  status-information:
    description: Customer status description for online application status view
    properties:
      title:
        type: string
        description: Title that will be displayed on online application status view
      description:
        type: string
        description: Description that will be displayed on online application status view
      html:
        type: string
        description: HTML that will be displayed on online application status view

  involved-parties-list:
    description: List of involved parties in application
    properties:
      involved-parties:
        type: array
        description: List of parties involved in application
        items:
          $ref: '#/definitions/party'

  party:
    description: Represents party involved in context of arrangement - customer, guarantor, co-debtor, authorized person and other.
    type: object
    discriminator: party-kind
    required:
      - party-kind
    properties:
      party-id:
        type: number
        description: Ordinal number of party in the application.
        format: integer
      party-kind:
        type: string
        description: |
          Discriminator whether party is individual or organization
          For a list of possible values see [party-kinds](party-classifications.html#party-kinds) enumeration.
        enum: [individual, organization]
      customer-number:
        type: string
        description: Reference to the Party that is involved 
      customer-name:
        type: string
        description: The name of the Party that is involved 
      party-role:
        type: string
        description: |
          The type of the role
          For a list of possible values see [party-roles](offer-classifications.html#party-roles) enumeration.
        enum: [customer, co-debtor, customer-representative, guarantor, authorized-person]
        default: customer
      profile-image-url:
        type: string
        format: url
        description: URL of profile image kept in contnent
      legal-address:
        type: object
        description: Address from identification document. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      contact-address:
        type: object
        description: Address for contacting and delivering. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      email-address:
        type: string
        description: Email address
      username:
        type: string
        description: Client username that he used for loging on to the system
      customer-segment:
        type: string
        description: |
            Classifies the customers into segments according to bank requirements. 
            For a complete list of possible values see [customer-segments](party-classifications.html#customer-segments) classification
        enum: ['retired','professional','sole-trader','unemployed','student','minor','hnwi','small-business','large-corporate','charity']
      preferred-culture:
        type: string
        description: |
          Customer peffered language. Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. 
          Each subtag refines or narrows the range of language variants identified by the tag. 
          For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where 
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase)
      country-of-residence:
        type: string
        description: Country of residence
        format: ISO 3166-1 alpha-2
      identification-number-kind:
        type: string
        description: |
          Kind of customer identification document
          For a list of possible values see [identification-kind](party-classifications.html#identification-kind) enumeration.
          Should not be populated unless explicitely specified in include-param.
        enum: [registration-number, tax-id-number, personal-id-number, identity-card-number, passport-number, driver-license-number, social-security-number]
      identification-number:
        type: string
        description: Identification number. Should not be populated unless explicitely specified in include-param.
      identification-document:
        type: object
        description: Identification document details. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/identification-document'
      product-usage-info:
        type: object
        description: Client profile snapshot. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/product-usage'
      debt-to-income:
        type: number
        description: DTI parameter for this party related to this application. This parameter is calculated in assessment.
        format: decimal
      remaining-ability-to-pay:
        type: number
        description: How much customer is able to pay, excluding this application. This parameter is calculated in assessment.

  identification-document:
    type: object
    description: Identification document details
    properties:
      kind:
        type: string
        description: |
          Enumeration that distinguishes between different kinds of identification documents
          For a list of possible values see [identification-document-kinds](party-classifications.html#identification-document-kinds) enumeration.
        enum: [passport, national-id-card, drivers-license]
      serial-number:
        type: string
        description: Registered serial number of identification document
      issued-date:
        type: string
        description: Date when document was issued
        format: ISO 8601 date
      valid-until:
        type: string
        description: Date untill document is valid
        format: ISO 8601 date
      status:
        type: string
        description: |
          Status of document
          For a list of possible values see [identification-document-statuses](party-classifications.html#identification-document-statuses) enumeration.
        enum: [active, annulled, expired]
      place-of-issue:
        type: string
        description: Reference to the place where document is issued
      issuing-authority:
        type: string
        description: The authority that issued the document
      content-url:
        type: string
        description: One or more comma-separated URLs of scanned document image kept in DMS repository
        format: url

  product-usage:
    type: object
    description: Client profile snapshot
    properties:
      products-used:
        type: number
        description: Number of used products in bank
        format: integer
      accounts-used:
        type: number
        description: Number of used accounts in bank
        format: integer
      average-liabilities:
        type: number
        description: Average liabilities
        format: decimal
      average-deposits:
        type: number
        description: Average deposits
        format: decimal
      credit-limit-utilization:
        type: number
        description: Credit limit utilization
        format: decimal
      total-arrears:
        type: number
        description: Total arrears
        format: decimal
      receives-salary:
        type: boolean
        description: Does client receives salary in bank
      uses-current-account:
        type: boolean
        description: Does client use current account
      uses-credit-card:
        type: boolean
        description: Does client use credit card
      uses-overdraft:
        type: boolean
        description: Does client use overdraft
      uses-mortgage:
        type: boolean
        description: Does client use mortgage
      uses-consumer-credit:
        type: boolean
        description: Does client use consumer credits
      max-historical-arrear-days:
        type: number
        description: Maximal historical arrear days
        format: integer

  individual:
    type: object
    description: Individual
    allOf:
      - $ref: '#/definitions/party'
    properties:
      given-name:
        type: string
        description: Name given to individual at birth usually by parents. 
      parent-name:
        type: string
        description: Name of one parent.
      surname:
        type: string
        description: Part of an individual's name which belongs to the family the individual is a part of.
      maiden-name:
        type: string
        description: Individual's surname as it existed prior to any change of surname resulting from any marriage.
      mothers-maiden-name:
        type: string
        description: Individual mother's surname as it existed prior to any change of surname resulting from any marriage.
      mobile-phone:
        type: string
        description: Mobile phone number
      home-phone-number:
        type: string
        description: Home phome number
      gender:
        description: |
          Gender is the characteristic pertaining to, and differentiating between, masculinity and femininity
          For a list of possible values see [gender](party-classifications.md#gender) enumeration.
        type: string
        enum: [female, male, unknown]
      date-of-birth:
        description: Person's date of birth
        format: ISO 8601 date
        type: string
      place-of-birth:
        description: Person's place of birth
        type: string
      country-of-birth:
        description: Person's country of birth
        type: string
        format: ISO 3166-1 alpha-2
      individual-status:
        description: |
          Lifecycle of individual. Value Null will be treated like value living. 
          For a list of possible values see [individual-status](offer-classifications.md#individual-status) enumeration.
        type: string           
        enum: [living, deceased]
      residential-status:
        type: string
        description: | 
          Residential status
          For a list of possible values see [redisential-status](party-classifications.md#redisential-status) enumeration.
        enum: [resident, non-resident]
      country-of-residence:
        type: string
        description: Country of residence
        format: ISO 3166-1 alpha-2
      residential-status-date:
        type: string
        description: Date when residence is acquired
        format: ISO 8601 date
      residential-address-date:
        type: string
        description: The date from which the person is at residential address
        format: ISO 8601 date
      marital-status:
        type: string
        description: |
          Marital status.
          For a list of possible values see [marital-statuses](party-classifications.html#marital-statuses) enumeration.
        enum: [divorced, common-law-marriage, married, single, widowed]
      education-level:
        type: string
        description: |
          Highest educational level.
          For complete list of possible values see [education-levels](offer-classifications.html#education-levels) classification.
        enum: [no-formal-education, primary, lower-secondary, upper-secondary, bachelor-degree, master-degree, doctorate, bachelor, not-disclosed]
      home-ownership:
        type: string
        description: |
          Home ownership
          For complete list of possible values see [home-ownerships](offer-classifications.html#home-ownerships) enumeration.
        enum: [owns, rents, lives-with-relatives, not-disclosed]
      car-ownership:
        type: string
        description: |
            Car assets.
            For complete list of possible values see [car-ownerships](offer-classifications.html#car-ownerships) enumeration.
        enum: [owns, does-not-own, not-disclosed]
      occupation:
        type: string
        description: Occupation 
        format: ISO 8601 date
      employment-info:
        type: object
        description: Applicant employment info
        $ref: '#/definitions/employment-data'
      previous-work-period:
        type: string
        description: Work experience before entered employments in employment-info
        format: ISO 8601 duration
      household-info:
        type: object
        description: Household information
        $ref: '#/definitions/household'
      legal-competency:
        description: |
          Enumeration that distinguishes whether individual has any legal limitation on their ability to transact business with bank
          For a list of possible values see [legal-competencies](party-classifications.html#legal-competencies) enumeration.
        type: string
        enum: [incompetent-minor, competent-adult]
      financial-profile:
        description: Individual financial profile with list of incomes and expenses
        type: object
        $ref: '#/definitions/financial-profile'
      credit-bureau-data:
        description: Credit bureau data
        type: object
        $ref: '#/definitions/individual-credit-bureau-data'

  organization:
    description: Organization
    type: object
    allOf:
      - $ref: '#/definitions/party'
    properties:
      registered-name:
        type: string
        description: Legal name under which oganization is established
      commercial-name:
        type: string
        description: The primary commercial name of an organization, by which it is most commonly recognized
      legal-structure:
        type: string
        description: |
          Classifies organizations based on their legal form or structure. 
          For a complete list of possible values see [legal-structure](party-classifications.html#legal-structure) classifications.
        enum: [cooperative,corporation, joint-venture, limited-company, partnership, public-limited-company, sole-proprietorship,syndicate,trust]
      organization-purpose:
        type: string
        description: |
          Distinguishes between organizations according to their purpose or format; for example, `association` and `public-service`. 
          For a complete list of possible values see [organization-purpose](party-classifications.html#organization-purpose)'
      is-sole-trader:
        type: boolean
        description: |
          A flag indicating that this organization represents the business aspects of an individual operating as a sole trader.
           The relevant Individual can be traced through the party relationship.'
      established:
        description: Date on which organization was formally established
        type: string
        format: date
      industry-sector:
        type: string
        x-asee-classification: industry-sectors
        description: |
          Classifies organizations based on their industry sectors. 
          For a complete list of possible values see [industry-sectors](party-classifications.html#industry-sectors) classifications
      phone:
        type: string
        description: Organization contact phone
      ownership-info:
        type: object
        description: Information about ownership kind and residential status
        $ref: "#/definitions/ownership" 
      relationships:
        type: array
        description: Information about other parties related to the organization
        items: 
          $ref: '#/definitions/relationships'
      bank-accounts:
        type: array
        description: Main organization bank accounts in other banks
        items:
          $ref: '#/definitions/bank-account'
      id-numbers:
        type: array
        description: List of organization id numbers
        items:
          $ref: '#/definitions/identification-number'
      size:
        type: string
        description: |
          Classsifies organizations based on their size according to the regulators rules. 
          For a complete list of possible values see [organization-size](party-classifications.html#organization-size) enumeration.
        x-asee-classification: organization-size
      file-kind:
        type: string
        description: |
         Internal classification of organizations for banks internal filing purpose. For example, `Micro company`,`Bank`,`Corporate` etc.
          For complete list of possible values see [organization-file-kinds](party-classifications.html#organization-file-kinds)
        x-asee-classification: organization-file-kinds
      legal-basis-for-registration:
        type: string
        description: |
            Legal basis for registration of the organization which is used when a organization is registered and it is kept as a separate classification. 
            For exammple, `Inactive`, `Open`, `Open again`, `The company is extinguished`, `Forced settlement`, etc. 
            For complete   list of possible values see [legal-basis-for-registration](party-classifications.html#organization-legal-basis-for-registration)        
        x-asee-classification: organization-legal-basis-for-registration
      legal-status:
        type: string
        description: |
          Legal status of the organization which is used for banks internal purpose and it is kept as a separate internal classification. 
          For exammple, `Inactive`, `Open`, `Open again`, `The company is shut down`, `Forced settlement`, `Under bankruptcy`, `Transfered to another bank`, etc. 
          For complete list of possible values see [organization-legal-status](party-classifications.html#organization-legal-status)
        x-asee-classification: organization-legal-status
      documentation-status:
        type: string
        description: |
          Status of the organization's documentation. 
          For complete list of possible values see [organization-documentation-status](party-classifications.html#organization-documentation-status)
        x-asee-classification: organization-documentation-status

  ownership:
    description: Ownership info for the organization
    type: object
    properties:
      kind:
        type: string
        x-asee-classification: ownership-kinds
        description: |
          Classifies organizations based on their business ownership kind. 
          For example, `Private property`,`State owned`,`Public property`. 
          For complete list of possible values see [ownership-kinds](party-classifications.html#ownership-kinds)"
        enum: [private, public, state-owned]
      residental-status:
        type: string
        x-asee-classification: ownership-residential-status-types
        description: |
          Classification of organizations by ownership residential status.
          For complete list of possible values see [ownership-residential-status](party-classifications.md#ownership-residential-status) enumeration.
        enum: [not-classified, domestic, foreign, mixed]

  relationships:
    type: object
    description: Information about party that is related to the organization
    properties:
      kind:
        type: string
        description: |
          For a list of possible values see [party-relationship-kinds](party-classifications.html#party-relationship-kinds) enumeration.
        enum: [marriage, family, ownership, representation, employment]
      role:
        type: string
        description: |
          For a list of possible values see [party-relationship-roles](party-classifications.html#party-relationship-roles) enumeration.
                enum: [spouse, child, parent, sibling, cousin, owner, owned, representative, represented, employer, employee]
        x-asee-enumeration: party-relationship-roles
      to-party:
        type: object
        description: Information about related parties
        $ref: '#/definitions/to-party'

  to-party:
    type: object
    description: Information about related party
    properties:
      number:
        type: string
        description: Unique identifier of other party in a relationship
      name:
        type: string
        description: Name of other party in a relationship
      kind:
        type: string
        enum: [individual, organization]
        x-asee-enumeration: party-kinds
        description: |
          For a list of possible values see [party-kinds](party-classifications.html#party-kinds) enumeration.
        
  bank-account:
    type: object
    description: Information about organization bank account in other banks
    properties:
      bank-name:
        type: string
        description: Name of the bank
      account:
        type: string
        description: Account number in the bank

  identification-number:
    type: object
    description: Party identification number
    required:
      - number
      - kind
    properties:
      number: 
        type: string
        description: id number
      kind: 
        description: |
          'Kind of identification number. Common values are `personal-id-number`, `passport-number`, `registration-number` '
          For a list of possible values see [identification-kinds](party-classifications.html#identification-kinds) enumeration.
        type: string
        enum: [registration-number, tax-id-number, personal-id-number, identity-card-number, passport-number, driver-license-number, social-security-number]

  employment-data:
    type: object
    description: Employment data for client
    properties:
      employment-status:
        type: string
        description: |
            Status of employment
            For complete list of possible values see [employment-status](offer-classifications.html#employment-status) enumeration.
        enum: [employed, not-employed, retired, shop-owner, farmer, leave-of-absence, part-time-job]
      employment-status-date:
        type: string
        description: The date from which employment status is acquired
      total-work-period:
        description: Total period of working years and mohts. 
        type: string
        format: ISO 8601 duration
      employments:
        type: array
        description: Applicant employment info
        items:
          $ref: '#/definitions/employment-info'

  employment-info:
    type: object
    description: Information about customer employment
    properties:
      company-id-number:
        type: string
        description: Employer registration number
      employer-name:
        type: string                
        description: Name of the employer
      employment-start-date:
        type: string        
        description: Employment start date.
        format: ISO 8601 date
      employment-end-date:
        type: string        
        description: Employment end date
        format: ISO 8601 date.
      position-category:
        type: string        
        description: Employment position category. For complete list of possible values see [employment-position-categories](offer-classifications.html#employment-position-categories) classification.
        enum: [worker, farmer, low-manager, middle-manager, high-manager, executive-manager, office-employee, government-employee, teaching-employee, medical-employee]
      employment-kind:
        type: string
        description: |
          Type of employment.
          For complete list of possible values see [employment-kinds](offer-classifications.html#employment-kinds) classification.
        enum: [permanent, temporary]
      employer-legal-structure:
          type: string
          description: |
            Employer type.
            For complete list of possible values see [employer-kinds](offer-classifications.html#employer-kinds) classification.
          enum: [budgetary-and-public, enterpreneur-employer-kind, join-stock-company, limeted-liability-company, other-employer-kind]

  household:
    type: object
    description: Information about household
    properties:
      total-household-income:
        type: object
        description: Total additional income amount.
        $ref: '#/definitions/currency'
      size-of-household:
        type: number
        description: Number of household members.
        format: integer
      employed-houshold-members:
        type: number
        description: Number of eployed household members.
        format: integer
      dependent-children:
        type: number
        description: Number of children.
        format: integer
      dependent-adults:
        type: number
        description: Number of dependent adults
        format: integer
  
  income:
    description: Information about party income
    properties:
      amount:
        description: Income amount
        $ref: '#/definitions/currency'
      source:
        type: string
        description: |
          Income source
          For complete list of possible values see [income-sources](offer-classifications.html#income-sources) enumeration.
        enum: [salary, pension, contract, rent, alimony, royalty, board-membership, separation-allowance ]
  
  expense:
    description: Information about party income
    properties:
      amount:
        description: Income amount
        $ref: '#/definitions/currency'
      source:
        type: string
        description: |
          Expenses source
          For complete list of possible values see [expense-sources](offer-classifications.html#expenses-sources) classification.
      origin:
        type: string
        description: Classification that represents origin of expense
        enum: ['credit-bureau','other']

  financial-profile:
    description: Individual financial profile with list of incomes and expenses
    properties:
      income-info:
        description: List of party incomes
        type: array
        items:
          $ref: '#/definitions/income'
      expense-info:
        description: List of party expenses
        type: array
        items:
          $ref: '#/definitions/expense'

  individual-credit-bureau-data:
    description: Individual credit bureau data
    properties:
      active-guarantee-amount:
        type: number
        description:  Active guarantee amount
        format: decimal
      active-guarantee-leasing-amount:
        type: number
        description: Active guarantee leasing amount
        format: decimal
      actual-latency-amount:
        type: number
        description: Actual latency amount
        format: decimal
      actual-latency-number-of-days:
        type: number
        description: Actual latency number of days
        format: integer
      placements:
        type: array
        description: List of placements
      credit-indeptness:
        type: number
        description: Credit indeptness
        format: decimal
      current-exposure:
        type: number
        description: Current exposure
        format: decimal
      fx-risk:
        type: number
        description: FX risk
        format: decimal
      had-latency:
        type: boolean
        description: Had latency
      has-housing-loan:
        type: boolean
        description: Has housing loan
      historical-arrear-number-of-days:
        type: number
        description: Historical arrear number of days
        format: integer
      is-credit-worthy:
        type: boolean
        description: Is credit worthy
      bad-debt-loan-amount:
        type: number
        description: Bad debt loan amount
        format: decimal
      bad-debt-credit-card-amount:
        type: number
        description: Bad debt credit card amount
        format: decimal
      bad-debt-account-amount:
        type: number
        description: Bad debt account amount
        format: decimal
      historical-arrear-amount:
        type: number
        description: Historical arrear amount
        format: decimal
      monthly-obligations:
        type: number
        description: Monthly obligations
        format: decimal
      number-of-active-credit-cards:
        type: number
        description: Number of active credit cards
        format: integer
      number-of-active-loans:
        type: number
        description: Number of active loans
        format: integer
      off-balance:
        type: number
        description: Off balance
        format: decimal
      potential-exposure:
        type: number
        description: Potential exposure
        format: decimal
      salary:
        type: number
        description: Salary
        format: decimal
      total-number-of-credit-cards:
        type: number
        description: Total number of credit cards
        format: integer
      total-number-of-loans:
        type: number
        description: Total number of loans
        format: integer
      sum-of-credit-card-obligations:
        type: number
        description: Sum of credit card obligations
        format: decimal
      sum-of-guarantor-obligations:
        type: number
        description: Sum of guarantor obligations
        format: decimal
      sum-of-loan-obligations:
        type: number
        description: Sum of loan obligations
        format: decimal
      sum-of-leasing-obligations:
        type: number
        description: Sum of leasing obligations
        format: decimal
      sum-of-activated-guarantor-obligations:
        type: number
        description: Sum of activated guarantor obligations
        format: decimal
      working-currency:
        type: string
        description: Working currency
        format: ISO 4217 3-letter  
      requested-at:
        type: string
        description: Requested at
        format: ISO
      has-chf-indexed-loan:
        type: boolean
        description: Has chf indexed loan

  placement:
    description: Credit bureau placement information
    properties:
      actual-latency-amount:
        type: number
        description: Actual latency amount
        format: decimal
      annuity:
        type: number
        description: Annuity
        format: decimal
      credit-amount:
        type: number
        description: Credit amount
        format: decimal
      currency-clause:
        type: string
        description: Currency clause
      debt-amount:
        type: number
        description: Debt amount
        format: decimal
      is-active:
        type: boolean
        description: Is active
      is-refinancing:
        type: boolean
        description: Is refinancing
      latencies:
        type: array
        description: Latencies
        items:
          $ref: '#/definitions/latency'
      latency-days-number:
        type: number
        description: Latency days number
        format: integer
      max-latency-amount:
        type: number
        description: Maximal latency amount
        format: decimal
      ordinal:
        type: string
        description: Ordinal
      ordinal-number:
        type: number
        description: Ordinal formated as number
        format: integer
      placement-kind:
        type: string
        description: |
          Enumeration that distinguishes different kinds of placemants and correspondes to arrangement request kind.
          For a list of possible values see [arrangement-kinds](offer-classifications.html#arrangement-kinds) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facilit, credit-card-facility, electronic-access-arrangement, card-access-arrangement, securities-arrangement, other-product-arrangement]
        x-asee-enumeration: arrangement-kinds
      refinancing-amount:
        type: number
        description: Refinancing amount
        format: decimal
      repayment-end-date:
        type: string
        description: Repayment end date
        format: ISO date
      repayment-start-date:
        type: string
        description: Repayment start date
        format: ISO date
      status:
        type: string
        description: Creadit bureau placement 

  latency:
    type: object
    description: Latency details
    properties:
      creation-time:
        type: string
        description: Creation time
        format: ISO 8601 date
      credit-bureau-entry-date:
        type: string
        description: Credit bureau entry date
        format: ISO 8601 date
      max-amount:
        type: number
        description: Latency maximal amount
        format: decimal
      number-of-days:
        type: number
        description: Latencu number of days
        format: integer
      ordinal:
        type: string
        description: Ordinal number
      under-complaint:
        type: boolean
        description: Indicates whether latency is under complaint

  contact-points:
    description: Party contact points
    properties:
      legal-address:
        type: object
        description: Address from identification document. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      contact-address:
        type: object
        description: Address for contacting and delivering. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      email-address:
        type: string
        description: Email address

  individual-contact-points:
    description: Party contact points
    allOf:
      - $ref: '#/definitions/contact-points'
    properties:
      mobile-phone:
        type: string
        description: Mobile phone number
      home-phone-number:
        type: string
        description: Home phome number

  party-general-information:
    description: General information abput party involved in context of arrangement - customer, guarantor, co-debtor, authorized person and other.
    type: object
    discriminator: party-kind
    required:
      - party-kind
    properties:
      party-id:
        type: number
        description: Ordinal number of party in the application.
        format: integer
      party-kind:
        type: string
        description: |
          Discriminator whether party is individual or organization
          For a list of possible values see [party-kinds](party-classifications.html#party-kinds) enumeration.
        enum: [individual, organization]
      customer-number:
        type: string
        description: Reference to the Party that is involved 
      customer-name:
        type: string
        description: The name of the Party that is involved 
      party-role:
        type: string
        description: |
          The type of the role
          For a list of possible values see [party-roles](offer-classifications.html#party-roles) enumeration.
        enum: [customer, co-debtor, customer-representative, guarantor, authorized-person]
        default: customer
      profile-image-url:
        type: string
        format: url
        description: URL of profile image kept in contnent
      identification-number-kind:
        type: string
        description: |
          Kind of customer identification document
          For a list of possible values see [identification-kind](party-classifications.html#identification-kind) enumeration.
        enum: [registration-number, tax-id-number, personal-id-number, identity-card-number, passport-number, driver-license-number, social-security-number]
      identification-number:
        type: string
        description: Identification number
      
  individual-general-information:
    type: object
    description: Individual general information
    allOf:
      - $ref: '#/definitions/party-general-information'
    properties:
      given-name:
        type: string
        description: Name given to individual at birth usually by parents. 
      parent-name:
        type: string
        description: Name of one parent.
      surname:
        type: string
        description: Part of an individual's name which belongs to the family the individual is a part of.
      maiden-name:
        type: string
        description: Individual's surname as it existed prior to any change of surname resulting from any marriage.
      mothers-maiden-name:
        type: string
        description: Individual mother's surname as it existed prior to any change of surname resulting from any marriage.
      date-of-birth:
        description: Person's date of birth
        format: ISO 8601 date
        type: string
      place-of-birth:
        description: Person's place of birth
        type: string
      marital-status:
        type: string
        description: |
          Marital status.
          For a list of possible values see [marital-statuses](party-classifications.html#marital-statuses) enumeration.
        enum: [divorced, common-law-marriage, married, single, widowed]
      education-level:
        type: string
        description: |
          Highest educational level.
          For complete list of possible values see [education-levels](offer-classifications.html#education-levels) classification.
        enum: [no-formal-education, primary, lower-secondary, upper-secondary, bachelor-degree, master-degree, doctorate, bachelor, not-disclosed]
      occupation:
        type: string
        description: Occupation

  organization-general-information:
    type: object
    description: Organization general information
    allOf:
      - $ref: '#/definitions/party-general-information'
    properties:
      registered-name:
        type: string
        description: Legal name under which oganization is established
      commercial-name:
        type: string
        description: The primary commercial name of an organization, by which it is most commonly recognized
      legal-structure:
        type: string
        description: |
          Classifies organizations based on their legal form or structure. 
          For a complete list of possible values see [legal-structure](party-classifications.html#legal-structure)
        enum: [cooperative,corporation, joint-venture, limited-company, partnership, public-limited-company, sole-proprietorship,syndicate,trust]
      organization-purpose:
        type: string
        x-asee-classification: organization-purpose
        description: |
          Distinguishes between organizations according to their purpose or format; for example, `association` and `public-service`. 
          For the list of possible values see [organization-purpose](party-classifications.html#organization-purpose) classification.
      is-sole-trader:
        type: boolean
        description: |
          A flag indicating that this organization represents the business aspects of an individual operating as a sole trader. 
          The relevant Individual can be traced through the party relationship.
      established:
        description: Date on which organization was formally established
        type: string
        format: date
      industry-sector:
        type: string
        x-asee-classification: industry-sectors
        description: |
          Classifies organizations based on their industry sectors. 
          For example, `distribution of electricity`, `news agency activities`, `activities related to information technology`, etc. 
          For the list of possible values see [industry-sectors](party-classifications.html#industry-sectors) classifications
      size:
        type: string
        x-asee-classification: organization-size
        description: |
          Classsifies organizations based on their size according to the regulators rules. 
          For a complete list of possible values see [organization-size](party-classifications.html#organization-size) enumeration.
  

  product-snapshot:
    type: object
    description: Product basic details
    properties:
        product-code:
          type: string
          description: A code or short name by which a product can be identified
        name:
          type: string
          description: Label given to a specific Product to identify or distinguish it from other Products
        description:
          type: string
          description: Basic information about product
        kind: 
          type: string
          description: |
           Classification of products according to its nature and scope
           For a list of possible values see [product-kinds](product-classifications.html#product-kind) enumeration.
          enum: [current-account-product, demand-deposit-product, term-deposit-product, term-loan-product, credit -facility-product, credit-card-facility-product, overdraft-facility-product, credit-line-product, card-access-product, electronic-acess-product, service, abstract-product]  
        status:
          type: string
          description: |
            Identifies product status from Customer perspective.
            For complete list of possible values see [product-statuses](product-classifications.html#product-statuses) enumeration.
          enum: [available, no-longer-available, temporarily-unavailable, coming-soon]
        market-features:
          type: string
          description: Textual description of the characteristics of a Product
        benefits-info:
          type: string
          description: Identifies a product benefits info
        family-name:
          type: string
          description: Name of Subject Area to hold the subtypes of Product
        primary-market-segment-name:
          type: string
          description: Market segment where the product is primarily intended
        is-package:
          type: boolean
          description: Is the product package  
        image-url:
          type: string
          description: Product image URL in content management
        cover-image-url:
          type: string
          description: Product cover image URL in content management
        application-process-description:
          type: string
          description: Text describing how the application process for the product is performed
        campaign-code: 
          type: string
          description: Campaign Identifier  
        availability-start: 
          type: string
          format: date-time
          description: The date from which the product is available
        primary-currency:
          type: string
          description: Primary currency of the product as ISO 4217 3 letter currency code
          format: ISO 4217 3-letter
        allowed-currencies:
          type: array
          description: Allowed currencies for the product as list of as ISO 4217 3 letter currency codes
          items:
            type: string
            format: ISO 4217 3-letter
        maximum-amount:
          type: object
          description: Currency amount and code
          $ref:  '#/definitions/currency'
        minimal-amount:
          type: object
          description: Currency amount and code
          $ref:  '#/definitions/currency'
        is-recommended:
          type: boolean
          description: Used to highlight the product in order to put special attention of potential customers.
        is-pre-approved:
          type: boolean
          description: Indicates whether application is pre-approved in campaign or other way  
        in-use:
          type: number
          format: integer
          description: Indicates the number of products in use  
        is-standalone:
          type: boolean
          description: Is the product standalone
        is-singleton:
          type: boolean
          description: Is the product singleton
        previously-used:
          type: number
          format: integer
          description: Indicates the number of previously used products
        active-requests:
          type: number
          format: integer
          description: Indicates the number of active requests for this product
        account-type-mapping:
          type: string
          description: A reference to account type mapping rule used to select appropriate account type when oppening account. The nature of this mapping is many-to-many, so one field for single account type is not sufficient for all products. As this rule is executed at Landing API, Current Account API and other APIs that do account oppening, this is up to them and implementation this field does not have the meaning outside core system and the APIs for account opening.
        sync-timestamp:
          type: string
          description: Monotonicaly increasing change identifier
        target-segments:
          description: CSV list of allowed target segments. If empty, product is available to all segments
          type: string
        target-customer-residency:
          type: string
          description: CSV list of allowed target residency statuses. If empty, product is available for all residency statuses
          enum:
            - domestic-resident
            - domestic-nonresident
            - alien-resident
            - alien-nonresident
            - organization
          x-asee-classification: customer-residency
        target-customer-kind:
          type: string
          enum: [individual, organization]
          description: Allowed customer kind. For a list of possible values see [party-kinds](party-classifications.html#party-kinds) enumeration.
          x-asee-enumeration: party-kinds
        channel-availability:
          type: string
          description: CSV list of channel codes on which product is available. If empty, product is visible on all channels
        available-collateral-models:
          type: string
          description: CSV list of Collateral Model codes available to this product
        available-discount-values:
          type: string
          description: CSV list of available discount values
        supports-alternative-offer:
          type: boolean
          description: Indicates whether product supports alternative offer
        default-parameters:
          type: object
          description: Default parameters for product
          $ref: "#/definitions/product-default-parameters"
        option-groups:
          type: array
          description: List of product option group
          items:
            $ref: "#/definitions/option-group"
        loan-purposes:
          type: string
          description: Loan purpose
        refinancing:
          type: string
          description: Enumeration that indicates is this product avaiable for refinancing
          enum: ['always','never','available']
        available-revolving-percentage:
          type: string
          description: CSV lis tof available revolving percents
        disbursement-info-entry:
          type: boolean
          description: Indicates if this product allows entry of disbursment information (consumer loans, refinancing loans etc..)
        variants:
          type: string
          description: CSV list of product variants. Applicable only for arstract products
        bundled-products:
          type: array
          description: List of bundled product information
          items:
            $ref: "#/definitions/bundled-product-info"
        related-products:
          type: string
          description: CSV list or related product codes that can be included in the same application
        required-documentation:
          type: string
          description: Text describing necessary documents if the client wants to apply for the product
        minimal-downpayment-percentage:
          type: number
          description: Minimal downpayment percentage
          format: decimal
        minimal-repayment-percentage:
          description: Minimal repayment percentage of the product
          type: number  
          format: double
        minimal-repayment-amount:
          description: Minimal repayment currency amount of the product
          $ref: "#/definitions/currency"  
        maximal-term:
          type: string
          description: Maximal term 
        minimal-term:
          type: string  
          description: Minimal term
        product-conditions:
          type: object
          description : Arrangement request terms and conditions
          $ref: '#/definitions/financial-conditions'
        campaign:
          description: Information describing a campaign 
          $ref: '#/definitions/campaign'
  
  application-document:
    type: object
    description: Documents related to application
    properties:
      application-number:
        type: string
        description: Reference of parent application number
      document-id:
        type: number
        description: Autogenerated identifier
      document-context-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [document-context-kind](offer-classifications.html#document-context-kind) enumeration.
        enum: [application, party, collateral, arrangement-request]
      context:
        type: string
        description: Context
      arrangement-request-id:
        type: number
        description: Identifier of arrangement request within application
      collateral-id:
        type: number
        description: Identifier of collateral within application
      party-id:
        type: number
        description: Identifier of document within application
      document-name:
        type: string
        description: Name of the document
      document-kind:
        type: string
        description: Document kind
      document-review-period:
        type: string
        description: Time period when document should be reviewed
        format: ISO 8601 duration
      is-mandatory:
        type: boolean
        description: Is document mandatory
      is-composed-from-template:
        type: boolean
        description: Should document be composed from template
      template-url:
        type: string
        description: Template URL in content management
        format: url
      is-for-signing:
        type: boolean
        description: Should document be signed
      is-for-upload:
        type: boolean
        description: Should document be uploaded
      is-for-physical-archiving:
        type: boolean
        description: Does document needs to be physical archived
      is-internal:
        type: boolean
        description: Is document internal
      supports-multiple-files:
        type: boolean
        description: Does document supports multiple files 
        default: false
      document-origin:
        type: string
        description: |
          Indicate weather is document created from product definition or by agent manually.
          For a list of possible values see [document-origin](offer-classifications.html#document-origin) enumeration.
        enum: [product, agent, process]
      document-status:
        type: string
        description: |
          Current status of the document.
          For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
        enum: [empty, composed, uploaded, signed, accepted-by-customer]

  arrangement-request-list:
    description: List of arrangement requests
    properties:
      arrangement-requests:
        description: List of arrangement requests
        items:
          $ref: '#/definitions/arrangement-request'
        type: array
    type: object
  
  arrangement-request:
    type: object
    description: Information about one product from client application
    discriminator: arrangement-kind
    required:
      - arrangement-kind
    properties:
      arrangement-request-id:
        type: number
        description: Autogenerated identifier
      application-number:
        type: string
        description: Reference of parent application number
      product-code:
        type: string
        description:  A code or short name by which a product can be identified
      parent-product-code: 
        type: string
        description: A code or short name by which the parent product can be identified
      product-name:
        type: string   
        description: The primary name assigned to the product used in reports and documents
      arrangement-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [arrangement-kind](offer-classifications.html#arrangement-kind) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facility, credit-card-facility, credit-line, securities-arrangement, card-access-arrangement, electronic-acess-arrangement, other-product-arrangement]
      arrangement-number:
        type: string
        description: The unique identifier of an arrangement, generated by CBS
      enabled: 
        type: boolean
        description: Indicates whether arrangement is enabled 
      product-snapshot: 
        type: object
        description: Product basic details
        $ref: '#/definitions/product-snapshot'
      conditions:
        type: object
        description : Arrangement request terms and conditions
        $ref: '#/definitions/financial-conditions'
      calculation-date:
        type: string
        description: Date when installment plan is calculated
        format: ISO 8601 date
      number-of-installments:
        type: number
        description: Number of installments
        format: integer
      installment-plan:
        description : Installment plan 
        $ref: '#/definitions/installment-plan'
      accounts:
        description: |
          List of references to accounts that play some roles in context of the arrangement. 
          Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/arrangement-account-info'
      campaign:
        description: Information describing a campaign 
        $ref: '#/definitions/campaign'
      options: 
        description: List of product options
        type: array
        items: 
          $ref: '#/definitions/product-option'
      bundle-product-info: 
        description: Information describing a bundle product
        $ref: '#/definitions/bundle-product-info'
      override-product-limits:
       type: boolean
       description: Indicates whether product limits are overridden
      requested-values:
       description: Information on requested values
       $ref: '#/definitions/requested-values'
      approved-limits:
       description: Information on approved limits
       $ref: '#/definitions/approved-limits'
      accepted-values:
       description: Informaton on accepted values
       $ref: '#/definitions/accepted-values'
      is-abstract-origin:
       type: boolean
       description: Is it originated from abstract product
       default: false
      is-optional:
       type: boolean
       description: Is this arrangement optional in application
       default: true

  requested-values:
    description: Information on customer initially requested values. This is used for alternative offers, to save customer initially requested values.
    type: object
    properties: 
      amount:
       type: number
       description: Initially requested amount by customer
       format: decimal
      annuity:
       type: number
       description: Initiall annuity
       format: decimal
      term: 
       type: string
       description: Initially requested term by customer
      napr:
       type: number
       format: decimal
       description: Nominal interest rate for initial request
      downpayment-amount:
       type: number
       description: Initial downpayment amount
       format: decimal
      downpayment-percentage: 
       type: number
       description: Initial downpayment percentage
       format: decimal
      invoice-amount:
       type: number
       description: Initial amount
       format: decimal 

  approved-limits:
    description: After assesment the approved limits for customer application are defined and placed in this object.
    type: object
    properties:
      minimal-amount:
       type: number
       description: Minimum of amount that customer can land and minimal amount defined in product definition.
       format: decimal
      maximal-amount:
       type: number
       description: Maximum of amount that customer can land and maximal amount defined in product definition.
       format: decimal
      amount: 
       type: number
       format: decimal
      maximal-affordable-annuity:
       type: number
       description: Maximal annuity that customer can afford under defined conditions
       format: decimal
      annuity: 
       type: number
       format: decimal
      maximal-term:
       type: string
       description: Maximum of term that can be applied for this customer and maximal term defined in product definition.
       format: ISO 8601 duration
      minimal-term:
       type: string
       description: Minimal of term that can be applied for this customer and minimal term defined in product definition.
       format: ISO 8601 duration
      term:
       type: string
       format: ISO 8601 duration
      downpament-amount: 
       type: number
       description: Downpayment amount
       format: decimal
      downpayment-percentage: 
       type: number
       description: Downpayment percentage
       format: decimal
      invoice-amount:
       type: number
       description: Invoice amount
       format: decimal
      passed:
       type: string

  accepted-values: 
    description: Information of alternative offers values that customer accepted.
    type: object
    properties: 
      amount:
       type: number
       description: Accepted amount
       format: decimal
      annuity: 
       type: number
       description: Accepted annuity
       format: decimal
      term:
       type: string
       description: Accepted term
       format: ISO 8601 duration
      napr:
       type: number
       description: Nominal interest rate
       format: decimal
      downpament-amount: 
       type: number
       description: Downpayment amount
       format: decimal
      downpayment-percentage: 
       type: number
       description: Downpayment percentage
       format: decimal
      invoice-amount:
       type: number
       description: Invoice amount
       format: decimal   
 
  campaign: 
    description: Information describing a campaign
    type: object
    properties: 
      lead-number:
       type: string
      party-id:
       type: string
      campaign-code: 
        type: string
        description: A code by which a campaign can be identified
      product-code:
        type: string
        description:  A code or short name by which a product can be identified
      status: 
        type: string
        default: "active"
      description: 
        type: string
        description: Descriptive information 
      pre-approved:
        type: boolean
        description:  Indicates whether application is pre-approved in campaign or other way
        default: false
      pre-approval-type: 
        type: string
        description: Classification from campaign which defines pre-approval type that indicates assessment flow.
        enum: [auto-approved, cb-only, personal-id-number, cb-and-atp]
      benefit:
        $ref: '#/definitions/benefit'
      max-amount:
        $ref: '#/definitions/currency'
      max-annuity:
        $ref: '#/definitions/currency'
      term:
        type: string
        description: The term of financial service. For non-financial services this fiels is optional
        format: ISO 8601 duration

  benefit:
    type: object
    properties: 
      code:
        type: string
        description: Benefit code
      description: 
        type: string
        description: Description of benefit
      value: 
        type: number
        description: Value of the benefit
        format: decimal
      kind: 
        type: string
        description: Refers to campaign benefit-kind classification
      
  bundle-product-info:
    description: Information describing a bundle product
    type: object
    properties:
      product-code: 
        type: string
      product-kind: 
        type: string
        description: |
          Classification of products according to its nature and scope
          For a list of possible values see [product-kinds](product-classifications.html#product-kind) enumeration.
        enum: [current-account-product, demand-deposit-product, term-deposit-product, term-loan-product, credit-facility-product, credit-card-facility-product, overdraft-facility-product, credit-line-product, card-access-product, electronic-acess-product, service, abstract-product]  
      product-name: 
        type: string
        description: Label given to a specific Product to identify or distinguish it from other Products
      status:
          type: string
          description: |
            Identifies product status from Customer perspective.
            For complete list of possible values see [product-statuses](product-classifications.html#product-statuses) enumeration.
          enum: [available, no-longer-available, temporarily-unavailable, coming-soon]  
      image-url:
          type: string
          description: Product image URL in content management
      campaign-code: 
        type: string
        description: A code by which a campaign can be identified    
      is-optional:
        type: boolean
        description: Determines if the product is optional 
        default: false
      minimal-number-of-instances:
        type: number
        description: Minimal number of product instances that should be in bundle
        format: integer
      maximal-number-of-instances:
        type: number
        description: Maximal number of product instances that should be in bundle
        format: integer

  product-option:
    type: object
    properties:
      group-code:
        type: string
      group-description: 
        type: string        

  card-access-arrangement-request:
    description: Card access arrangement request.
    allOf:
      - $ref: '#/definitions/arrangement-request'

  card-request:
    description: Card arrangement request.
    allOf:
      - $ref: '#/definitions/arrangement-request'

  electronic-access-arrangement-request:
    description: Arrangement request for electronic access.
    allOf:
      - $ref: '#/definitions/arrangement-request'
  
  securities-arrangement-request:
    description: Security arrangement request.
    allOf:
      - $ref: '#/definitions/arrangement-request'
  
  other-product-arrangement-request:
    description: Other arrangement request.
    allOf:
      - $ref: '#/definitions/arrangement-request'
  
  abstract-arrangement-request:
    description: Arrangement request that represents abstract product (e.g. Credit card or Debt card)
    allOf:
      - $ref: '#/definitions/arrangement-request'
  
  finance-service-arrangement-request:
    description: Finance service arrangement request.
    allOf:
    - $ref: '#/definitions/arrangement-request'
    properties:
      currency:
        type: string
        description: Arrangement request currency
        format: ISO 4217 3-letter currency code
      amount:
        description: Arrangement request amount
        type: number
        format: decimal
      amount-in-domestic-currency:
        description: Arrangement request amount in domestic currency
        type: number
        format: decimal
      term:
        description: Arrangement request term
        type: string
        format: ISO 8601 duration
      maturity-date:
        description: Maturity date
        type: string
        format: ISO 8601 date  
      eapr:
        description: Effective interest rate
        type: number
        format: decimal
      napr:
        description: Nominal interest rate
        type: number
        format: decimal
      collateral-model:
        type: string
        description: Collateral model for this application
      collateral-requirements:
        description: List of collateral requirements
        type: array
        items:
          $ref: '#/definitions/collateral-requirement'
      is-refinancing:
        type: boolean
        description: Is loan refinacning
      alternative-offers:
        description: List of alternative offers
        type: array
        items:
          $ref: '#/definitions/alternative-offer'
    
  alternative-offer:
    description: Information about alternative offers
    properties:
      amount:
        type: number
        description: Alternative amount 
        format: decimal
      annuity:
        type: number
        description: Alternative annuity
        format: decimal
  
  credit-facility-request:
    description: Credit arrangement request.
    allOf:
    - $ref: '#/definitions/finance-service-arrangement-request'
    properties:
      minimal-repayment-amount:
        description: Minimal repayment currency amount of the product
        $ref: "#/definitions/currency"
      minimal-repayment-percentage:
        description: Minimal repayment percentage of the product
        format: double
        type: number
  
  credit-card-facility-request:
    description: Credit card arrangement request.
    allOf:
    - $ref: '#/definitions/finance-service-arrangement-request'
    properties:
      minimal-repayment-amount:
        description: Minimal repayment currency amount of the product
        $ref: "#/definitions/currency"
      minimal-repayment-percentage:
        description: Minimal repayment percentage of the product
        format: double
        type: number
      revolving-percentage:
        type: number
        format: double
        description: Percentage of total debt that can be revolved
  
  overdraft-facility-request:
    description: Overdraft arrangement request.
    allOf:
    - $ref: '#/definitions/finance-service-arrangement-request'
  
  term-loan-request:
    description: Term loan arrangement request.
    allOf:
    - $ref: '#/definitions/finance-service-arrangement-request'
    properties:
      annuity:
        description: Annuity
        type: number
        format: decimal
      invoice-amount:
        description: Invoice amount
        $ref: '#/definitions/currency'
      invoice-amount-in-loan-currency:
        description: Invoice amount converted to the same currency as loan
        type: number
        format: decimal
      downpayment-amount:
        description: Downpayment amount
        $ref: '#/definitions/currency'
      downpayment-amount-in-loan-currency:
        description: Downpayment amount converted to the same currency as loan
        type: number
        format: decimal 
      downpayment-percentage:
        type: number
        description: Downpayment percentage
        format: decimal
      grace-period-start-date:
        type: string
        description: Period start date 
        format: ISO 8601 date
      grace-period:
        type: string
        description: Period duration 
        format: ISO 8601 duration
      drawdown-period-start-date:
        type: string
        description: Period start date 
        format: ISO 8601 date
      drawdown-period:
        type: string
        description: Period duration 
        format: ISO 8601 duration
      repayment-start-date:
        type: string
        description: Period start date 
        format: ISO 8601 date
      repayment-period:
        type: string
        description: Period duration 
        format: ISO 8601 duration
      is-refinancing:
        type: boolean
        description: Indicates wheather the loan is for refinancing
      disbursements-info:
        type: array
        description: List of disbursment information for consumer and refinancing loans
        items:
          $ref: '#/definitions/disbursement-info'
      total-disbursement-amount:
        type: number
        description: Sum of all disbursments in loan currency
        format: decimal

  disbursement-info:
    description: Disbursement information
    properties:
      amount:
        $ref: '#/definitions/currency'
      beneficiary-name:
        type: string
        description: Name of beneficiary
      account-number:
        type: string
        description: Account that the money is disbursed to
      invoice-number:
        type: string
        description: Invoice number
      reference-number:
        type: string
        description: Reference number for invoice
      product-description:
        type: string
        description: Description for a product that invoice is for
      check-digit-model:
        type: string
        description: Model with which last digit should be checked
      disbursement-date:
        type: string
        description: Date when loan amount should be disbursed
        format: ISO 8601 date
      loan-kind:
        type: string
        description: Classification of loan type used for refinancing
      type:
        type: string
        description: Classification that represents type of disbursement

  deposit-request:
    description: Deposit arrangement request.
    allOf:
    - $ref: '#/definitions/arrangement-request'
    properties:
      currency:
        type: string
        description: Arrangement request currency
        format: ISO 4217 3-letter currency code
      eapr:
        description: Effective interest rate
        type: number
        format: decimal
      napr:
        description: Nominal interest rate
        type: number
        format: decimal

  current-account-request:
    description: Current account arrangement request.
    allOf:
    - $ref: '#/definitions/deposit-request'

  demand-deposit-request:
    description: Demand deposit arrangement request.
    allOf:
    - $ref: '#/definitions/deposit-request'
    properties:
      savings-plan:
        $ref: '#/definitions/savings-plan'
        description: Defines regular periodic deposits in addition to initial deposit amount.

  term-deposit-request:
    description: Term deposit arrangement request.
    allOf:
    - $ref: '#/definitions/deposit-request'
    properties:
      amount:
        type: number
        format: double
        description: Initial amount, in primary currency
      term:
        type: string
        format: ISO 8601 duration
        description: The time period from contract date to maturity.
      maturity-date:
        type: string
        format: ISO 8601 date
        description: Initially negotiated maturity date.
      rollover-option:
        type: string
        description: |
          Defines whether rollover is not allowed, allowed on request, or automatic.
          For complete list of possible values see [rollover-options]](offer-classifications.html#rollover-options) enumeration.
        enum: [not-allowed, allowed-on-request, automatic]
      max-rollovers:
        type: integer
        description: Limits the number of rollovers if rollover is allowed.
      savings-plan:
        $ref: '#/definitions/savings-plan'
        description: Defines regular periodic deposits in addition to initial deposit amount.
      interest-capitalization-on-rollover:
        type: string
        description: |
          Option which decides whether the rollover will include interest amount from previous term or not.
          For complete list of possible values see [interest-capitalization-on-rollover]](offer-classifications.html#interest-capitalization-on-rollover) enumeration.
        enum: [not-allowed, allowed-on-request, automatic]

  savings-plan:
    description: Defines regular periodic deposits in addition to initial deposit amount.
    properties:
      iteration:
        type: string
        format: ISO 8601 duration
        description: Length of time period between two deposits
      amount:
        type: number
        format: double
        description: Minimal periodic deposit amount

  financial-conditions:
    type: object
    description: Arrangement request terms and conditions
    properties:
      fees:
        description: List of arrangement fee conditions. Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/fee-condition'
      interest-rates:
        description: List of arrangement interest conditions. Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/interest-rate-condition'
      other:
        description: List of general terms and conditions.
        type: array
        items:
          $ref: '#/definitions/general-condition'

  arrangement-account-info:
    type: object
    description: Reference to account that play some roles in context of the arrangement 
    properties:
      account-number:
        type: string
        description: Number of the account
      role-kind:
        type: string
        description:  |
          The role account plays in context of the arrangements.
          For complete list of possible values see [arrangement-account-role-kinds](arrangement-classifications.md#arrangement-account-role-kinds) enumerations.
        enum: [primary-account, settlement-account, sub-account, other]
  
  application-for-document-composition:
    type: object
    description: Detailed information about client application
    properties:
      application-number:
        type: string
        description: Unique identifier for application workitem
        readOnly: true
      exposure-info:
        type: object
        description: Exposure data for client
        $ref: '#/definitions/exposure-info'    
      status:
        type: string
        description: |
          Status of application.
          For a list of possible values see [application-statuses](offer-classifications.html#application-statuses) enumeration.
        enum: [draft, accepted, active, rejected, canceled, approved, complete]
        readOnly: true 
      phase:
        type: string
        description: |
          Application current phase      
          For a list of possible values see [application-phases](offer-classifications.html#application-phases) classification.
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-name:
        type: string   
        description: The primary name assigned to the product used in reports and documents
      customer-number:
        type: string
        description: Customer number
      customer-name:
        type: string
        description: Customer name
      customer-segment:
        type: string
        description: One value from list of customer segments defined in Party API [customer-segments](party-classifications.md#customer-segments)
      organization-unit-id:
        type: string
        description: Organization unit
      channel-code:
        type: string
        description: Channel code      
      portfolio-id:
        type: string
        description: Portfolio Id
      campaign-code:
        type: string
        description: Campaign code
      decision-number:
        type: string
        description: Number of decision for application approvement
      settlement-account:
        type: string
        description: Customer settlement account
      arrangement-number:
        type: string
        description: Number of arrangement
      initiator:
        type: string
        description: Username of customer or agent who initiate application
      country-code:
        type: string
        description: Customer country code that imapcts on type for identity documents, default phone format and etc
        format: Country three-digit numeric code (Standard ISO 3166-1 numeric)
      preferred-culture:
        type: string
        description: Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. Each subtag refines or narrows the range of language variants identified by the tag. For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase)
      signing-option:
        type: string
        description: |
          Indicates how and where customer chose to sign agreement documents
          For complete list of possible values see [signing-options](offer-classifications.html#signing-options) enumeration.
        enum: [branch, courier, online]  
      collateral-model:
        type: string
        description: Collateral model for this application
      status-information:
        type: object
        description: Customer status description for online application view
        $ref: '#/definitions/status-information'
      request-date:
        type: string
        description: Date when application was accepted for processing
        format: date
        readOnly: true
      expiration-date:
        type: string
        description: Expiration date
        format: date-time
        readOnly: true
      cancelation-reason:
        description: Customer's reason to cancel active application
        type: string
        x-asee-classification: cancelation-reasons
      cancelation-comment: 
        description: Comment describing cancellation reason
        type: string
      created:
        type: string
        description: Date and time when application was recorded in the system
        format: date-time
        readOnly: true
      status-change-date:
        type: string
        description: Date and time when application status changed
        format: date-time
        readOnly: true
      last-modified:
        type: string
        description: Date and time when application was last modified
        format: date-time
        readOnly: true
      created-by-name:
        type: string
        description: Name of the agent (bank employee) responsible for opening process, who created product account opening
        readOnly: true
      requested-activation-date:
        type: string
        description: Date when application should be activated
        format: date
      comments:
        type: string
        description: Comments
      arrangement-requests:
        type: array
        description: List of arrangement requests that are the part of application.
        items:
          $ref: '#/definitions/arrangement-request-for-composition'
      involved-parties:
        type: array
        description: List of references to parties that play some roles in context of the application.
        items:
          $ref: '#/definitions/party'
      documents:
        type: array
        description: List of documents that should be provided in context of application
        items:
          $ref: '#/definitions/application-document' 
      term-limit-breached:
        type: boolean
        description: Indicate if term limit is breached during negotiations
      ammount-limit-breached:
        type: boolean
        description: Indicate if amount limit is breached during negotiations
      preferencial-price:
        type: boolean
        description: Inidcate if custom discounts from agent are included in price 
      loan-to-value:
        type: number
        description: Ratio that represents size of a loan you take out compared to the value of the property securing the loan.
        format: decimal
      maximal-annuity:   
        type: number
        description:  Maximal value of annuity that customer is able to pay according to his credit ability.
        format: decimal
      maximal-amount: 
        type: number
        description: Maximal loan amount that customer is able to take according to his credit ability.
        format: decimal
      debt-to-income:
        type: number
        description: Percentage of a consumer's monthly income that goes toward paying debts and other obligations (expenses).
        format: decimal
      customer-remaining-ability-to-pay:
        type: number
        description: Difference between total monthly incomes and expenses including current application.
        format: decimal
      effective-remaining-ability-to-pay:
        type: number
        description: Difference between total monthly incomes and expenses excluding current application.
        format: decimal
      is-pre-approved:
        type: boolean
        description: Indicates whether application is pre-approved in campaign or other way
      pre-approval-type: 
        type: string
        description: Classification from campaign which defines pre-approval type that indicates assessment flow.
        enum: [auto-approved, cb-only, personal-id-number, cb-and-atp]
      originates-bundle: 
        type: boolean
        description: Indicates whether this is bundle application.
      risk-score:
        type: number
        description: Customer risk score value, calculated in scoring process, that is used in risk based pricing.
        format: decimal
      credit-rating:
        type: string
        description: Customer credit raiting based on official classification. This parameter is used in risk based pricing
      customer-value:
        type: number
        description: Customer lifetime value, calculated in external systems, that is used in risk based pricing.
        format: decimal 
      
  arrangement-request-for-composition:
    type: object
    description: Information about one product from client application
    discriminator: arrangement-kind
    required:
      - arrangement-kind
    allOf:
      - $ref: '#/definitions/arrangement-request'
    properties:
      total-disbursement:
        description: Sum of disbursements
        type: number
        format: decimal
      total-annuity:
        description: Sum of annuities
        type: number
        format: decimal
      total-principal:
        description: Total principal
        type: number
        format: decimal
      total-interest:
        description: Sum of interests
        type: number
        format: decimal
      total-expenses:
        description: Sum of expenses
        type: number
        format: decimal
      total-expenses-in-domestic-currency:
        description: Sum of expeses in domestic currency
        type: number
        format: decimal
      total-cash-collateral:
        description: Sum of cash collaterals
        type: number
        format: decimal
      total-net-cash-flow:
        description: Sum of net cash flow
        type: number
        format: decimal
      total-discounted-net-cash-flow:
        description: Sum of discounted net cash flow
        type: number
        format: decimal
      total-repayment-amount:
        description: Sum of rapayments
        type: number
        format: decimal
      total-fee-amount:
        description: Sum of fees
        type: number
        format: decimal
      calculation-method:
        description: Textual description of arrangement request property is-fixed
        type: string
        enum: [fixed,variable]
      interest-rate-variability:
        description: Textual description of arrangement request property is-compound
        type: string
        enum: [compound,simple]
        
  product-default-parameters:
    description: Default parameters for product that are used in initial calculation in product catalog
    type: object
    properties:
      amount:
        type: number
        description: Default amount for product
        format: decimal
      invoice-amount:
        type: number
        description: Default invoice amount for product
        format: decimal
      term:
        type: string
        description: Default term of financial service. For non-financial services this fiels is optional
        format: ISO 8601 duration
      repayment-percentage:
        type: number
        description: Default minimal repayment percentage of the product
        format: decimal
      downpayment-percentage:
        type: number
        description: Default downpayment percentage for the product
        format: decimal
      grace-period:
        description: Default grace period
        type: string
        format: ISO 8601 duration
      drawdown-period:
        description: Default drowdown period
        type: string
        format: ISO 8601 duration
      is-refinancing:
        type: boolean
        description: Indicates whether this product can be used for refinancing
      revolving-percentage:  
        type: number
        format: decimal
        description: Default value of revolving percentage for credit cards

  option-group:
    description: Group of options that can be applied on product
    type: object
    properties:
      description:
        type: string
        description: Option group description
      code:
        type: string
        description: Option group code
      options:
        type: array
        description: Array og options
        items:
            $ref: '#/definitions/option'

  option:
    description: Product option
    type: object
    properties:
      description: 
        type: string
        description: Option description
      code:
        type: string
        description: option code
      effects:
        type: array
        description: Array of benefits that this option contains
        items:
            $ref: '#/definitions/benefit'

  bundled-product-info:
    type: object
    description: Information about bundeled product
    properties:
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      product-kind: 
        type: string
        description: |
          Classification of products according to its nature and scope
          For a list of possible values see [product-kinds](product-classifications.html#product-kind) enumeration.
        enum: [current-account-product, demand-deposit-product, term-deposit-product, term-loan-product, credit-facility-product, credit-card-facility-product, overdraft-facility-product, credit-line-product, card-access-product, electronic-acess-product, service, abstract-product]  
      product-name:
        type: string
        description: The primary name assigned to the product used in reports and docume
      product-status:
        type: string
        description: |
          Identifies product status from Customer perspective.
          For complete list of possible values see [product-statuses](product-classifications.html#product-statuses) enumeration.
        enum: [available, no-longer-available, temporarily-unavailable, coming-soon]
      image-url:
          type: string
          description: Product image URL in content management
      campaign-code:
        type: string
        description: Campaign code
      is-optional:
        type: boolean
        description: Indicates wether product is optional bundle component
      minimal-number-of-instances:
        type: number
        description: Minimal number of instances of bundled component in master product
        format: integer
      maximal-number-of-instances:
        type: integer
        description: Indicate maximal number of instances of bundled component in master product
        format: integer

  product-documentation:
    description: Product Documentation attached to master Product
    type: object
    properties:
      document-context-kind:
        type: string
        description: |
          Distinguishes between different kinds of contexts where document may be required.
          For a list of possible values see [document-context-kind](offer-classifications.html#document-context-kind) enumeration.
        enum: [application, party, collateral, arrangement-request]
      product-code:
        type: string
        description: The unique identifier of a Product. This condition is valid for all document context kinds. 
      party-role:
        type: string
        description: |
          Condition due to party role with meaning that document is required only for parties that play this role. 
          Prefix new means that document is needed only if party that plays the role doesn't have previous relationship with the bank on the same level, i.e that document was not provided previously. 
        enum: [customer, new-customer, authorized-person, new-authorized-person, co-debtor, new-co-debtor, guarantor, new-guarantor]
      collateral-kind:
        type: string
        description: Condition due to collateral type, if document contexts is collateral. This means that document is needed for every collateral object of that type. 
      document-name:
        type: string
        description: |
          Represents document name.
      document-type:
        type: string
        description: |
          Identifies document type.
          For complete list of possible values see [document-type](product-classifications.html#document-type) classification.
        x-asee-classification: document-type
      document-review-period:
        description: Identifies time period after which the document should to be reviewed
        type: string
        format: ISO 8601 duration
      is-mandatory:
        type: boolean
        description: Identifies whether the document is mandatory
      work-item-phase:
        type: string
        description: Identifies Work Item Phase in which a document is introduced
      is-composed-from-template:
        type: boolean
        description: Identifies whether the document needs to be composed from template
      template-url:
        type: string
        format: url
        description: URL of the template that can be used to compose document. This default template-url may be overriden by business rules in the process. 
      is-for-signing:
        type: boolean
        description: Identifies whether the document needs to be formally accepted and signed by counterparty 
      is-for-upload:
        type: boolean
        description: Identifies whether the document needs to be uploaded by counterpaty or an agent on behalf of counterpaty
      is-for-physical-archiving:
        type: boolean
        description: Identifies whether the document needs to be provided in physical form and archived
      is-internal:
        type: boolean
        description: Identifies whether the document is only internally visible - not exposed to counterparty
      supports-multiple-files: 
        type: boolean
        description: Indicates whether this document type allows multiple files upload (for example front and back on ID card)

  product-collateral-model:
    type: object
    description: Collateral model defined by multiple collateral requirements
    properties:
      code:
        type: string
        description: Code of collateral model used as reference in product definition
      name:
        type: string
        description: Friendly name of collateral model
      collateral-requirements:
        type: array
        description: Collateral requirements contained in specific collateral model
        items:
          $ref: '#/definitions/collateral-requirement'

  product-collateral-requirement:
    description: Collateral requirement
    type: object
    properties:
      collateral-arrangement-code:
        type: string
        description: Collateral arrangement code from Collateral API
      minimal-coverage:
        type: number
        format: double
        description: Minimal percentual coverage of product amount secured by this collateral requirement
      quantity:
        type: integer
        description: Number of collateral requirements of this type needed to be provided as security
      party-roles:
        type: string
        description: CSV list of party roles needed to participate with collaterals. If this list is empty, anyone can participate with collaterals

  price-variation:
    description: Used as conditional derogation of interest rates and fees.
    type: object
    properties:
      origin:
        type: string
        description: |
          The origin of the variation.
          For a list of possible values see [price-variation-origins](arrangement-classifications.html#price-variation-origins) enumeration.
        enum: ['product', 'bundle', 'campaign', 'loyalty-scheme', 'collective-benefit', 'relationship-benefit', 'sales-discount']
        x-asee-enumeration: price-variation-origins
      benefit-source-id:
        type: string
        description: If applicable, the identifier of the benefit source. For example, collective benefit for employees of a company should refer to the company id, campaign benefits to campaign id, etc.
      benefit-id:
        type: string
        description: If applicable, the id of benefit that was reason for derogation
      variation-description:
        type: string
        description: Free text description of the condition under which this variation is applicable. Should be culture sensitive.
      applicability-expression:
        type: string
        description: Optionally, formal textual expression that can be parsed and consumed by other systems. For example, Balance within (500, 1000], Reached term within [3M, ...), Currency in {EUR, USD}, Channel in {Branch, Agencies/Post Office}, Valid in period (..., 2016-12-31], Valid during {Grace period, Promotional period}, etc. Expressions can be negated using NOT operator and combined using AND and OR operators.
      percentage:
        type: number
        format: double
        description: Percentage points (positive or negative) to be conditionally added to other applicable price components.
      variation-group:
        type: string
        description: Similar variations can be organized in groups (collateral variations, standard product discount, etc). This property represents name of variation group. 

  interest-rate-variation:
    description: Conditional derogation of interest rate.
    allOf:
    - $ref: '#/definitions/price-variation'

  fee-variation:
    description: Conditional derogation of fee.
    allOf:
    - $ref: '#/definitions/price-variation'
    - type: object
      properties:
        fixed-amount:
          type: number
          description: Amount (positive or negative) to be added to other applicable fee components
          format: decimal
        lower-limit:
          type: number
          description: Lower limit of fee variation
          format: decimal
        upper-limit:
          type: number
          description: Upper limit of fee variation
          format: decimal
  
  pricing-condition:
    description: Detailed information about price - interest rate or fee condition
    type: object
    properties:
      title:
        type: string
        description: The title of the condition.  Should be culture-sensitive.
      effective-date:
        type: string
        format: date-time
        description: The date from which interest rate is valid.
      currencies:
        type: array
        description: |
          The list of currencies for which the price is applicable. Currencies must be identified by ISO 4217 alphanumerical code (EUR, USD).  
          Empty list means that the price is applicable to all arrangement currencies.        
        items:
          type: string
      variations-definition:
        type: string
        description: Path in configuration where DMN for price variation is placed. Model should be decribed according to DMN 1.1 standard
      variations-definition-DMN:
        type: string
        description: Content of DMN, according to DMN 1.1 standard, that defines variation
        format: XML
      pricing-rule-currency:
        type: string
        description: Currency for pricing rule calculation in ISO 4217 alphanumerical code

  interest-rate:
    description: Interest rate definition with base and spread.
    properties:
      base-rate-id:
        type: string
        description: Identifier of the base rate, for example EURIBOR3M
      base-rate-value:
        type: number
        format: double
        description: The value of the base rate at effective date
      spread-rate-value:
        type: number
        format: double
        description: The value of spread rate that is applied unconditionally
  
  interest-rate-condition:
    description: Detailed information about contractual interest rate.
    allOf:
    - $ref: '#/definitions/pricing-condition'
    - type: object
      properties:
        kind:
          type: string
          description: |
            Classification of interest rates due to their purpose. Note that penalty interest applies to loans while early withdrawal interest applies to deposits.
            For a list of possible values see [interest-rate-kinds](arrangement-classifications.html#interest-rate-kinds) enumeration.
          enum: ['regular-interest', 'penalty-interest', 'early-withdrawal-interest']
        is-compound:
          type: boolean
          description: If true, interest calculation method is compound.
          default: true
        is-fixed:
          type: boolean
          description: If true, interest rate is fixed.
        calendar-basis:
          type: string
          description: |
            Day count convention used for interest calculation.
            For complete list of possible values see [calendar-basis](product-classifications.html#calendar-basis) enumeration.
          enum: ['30a-360', '30u-360', '30e-360', '30e-360-isda', 'act-act-icma', 'act-act-isda', 'act-365-fixed', 'act-360', 'act-364', 'act-365-l', 'act-act-afb',
                  '30e-365', '30u-365', '30e-act', '30u-act']
          default: act-act-isda
          x-asee-enumeration: calendar-basis
        rate:
          $ref: '#/definitions/interest-rate'
        variations:
          type: array
          items:
            $ref: '#/definitions/interest-rate-variation'
        lower-limit:
          $ref: '#/definitions/interest-rate'
        lower-limit-variations-definition:
          type: string
          description: Path in configuration where DMN for lower limit variation is placed. Model should be decribed according to DMN 1.1 standard
        lower-limit-variations-definition-DMN:
          type: string
          description: Content of DMN, according to DMN 1.1 standard, that defines variation
          format: XML
        lower-limit-variations:
          type: array
          items:
            $ref: '#/definitions/interest-rate-variation'
        upper-limit:
          $ref: '#/definitions/interest-rate'
        upper-limit-variations-definition:
          type: string
          description: Path in configuration where DMN for lower limit variation is placed. Model should be decribed according to DMN 1.1 standard
        upper-limit-variations-definition-DMN:
          type: string
          description: Content of DMN, according to DMN 1.1 standard, that defines variation
          format: XML
        upper-limit-variations:
          type: array
          items:
            $ref: '#/definitions/interest-rate-variation'
        calculated-rate:
          type: number
          format: decimal
          description: Total calculated rate value at effective-date. Sum of base rate, spread rate and variations.
        calculated-lower-limit:
          type: number
          description: Calculated lower limit
          format: decimal
        calculated-upper-limit:
          type: number
          description: Calculated lower limit
          format: decimal
        lower-limit-applied:
          type: boolean
          description: Inidicated wether lower limit is applied in this arrangement request
        upper-limit-applied:
          type: boolean
          description: Inidicated wether lower limit is applied in this arrangement request
        rate-without-bundle:
          type: number
          description: Calculated interest rate when product is not part of the bundle.
          format: decimal

  fee-condition:
    description: Detailed fee information.
    allOf:
    - $ref: '#/definitions/pricing-condition'
    - type: object
      properties:
        kind:
          type: string
          description: |
            Classification of fees due to their purpose. Note that early repayment fee applies to loans while early withdrawal fee applies to deposits.
            For a list of possible values see [fee-condition-kinds](arrangement-classifications.html#fee-condition-kinds) enumeration.
          enum: ['origination-fee', 'management-fee', 'early-repayment-fee', 'early-withdrawal-fee', 'service-fee', 'expense', 'other']
          x-asee-enumeration: fee-condition-kinds
        service-code:
          type: string
          description: The code of the service to which fee applies, in case that kind is service fee.
        service-description:
          type: string
          description: The description of the service to which fee applies, in case that kind is service fee. Should be culture-sensitive.
        frequency:
          description: |
            Fee calculation frequency. Service fees, expenses and origination-fee are usually event-triggered.
            For complete list of possible values see [fee-condition-frequencies](product-classifications.html#fee-condition-frequencies) enumeration.
          type: string
          enum: ['event-triggered', 'monthly', 'quarterly', 'semiyearly', 'yearly']
          default: event-triggered
          x-asee-enumeration: fee-condition-frequencies
        percentage:
          type: number
          format: double
          description: Percentage applied to base amount
        fixed-amount:
          $ref: '#/definitions/currency'
          description: Fixed amount component
        variations:
          type: array
          items:
            $ref: '#/definitions/fee-variation'
        lower-limit:
          $ref: '#/definitions/currency'
          description: Lower limit applied after fee calculation
        upper-limit:
          $ref: '#/definitions/currency'
          description: Upper limit applied after fee calculation
        percentage-lower-limit:
          type: number
          format: double
          description: Lower limit for percentage applied to base amount
        percentage-upper-limit:
          type: number
          format: double
          description: Upper limit for percentage applied to base amount
        fixed-amount-in-arrangement-currency:
          $ref: '#/definitions/currency'
          description: Fee fixed amount in arrangement currency
        calculated-percentage:
          type: number
          description: Calculated fee percentage
          format: decimal
        calculated-fixed-amount:
          type: number
          description: Calculated fee fixed amount
          format: decimal
        calculated-lower-limit:
          type: number
          description: Calculated fee lower limit amount
          format: decimal
        calculated-upper-limit:
          type: number
          description: Calculated fee upper limit amount
          format: decimal
        lower-limit-applied:
          type: boolean
          description: Inidicated wether lower limit is applied in this arrangement request
        upper-limit-applied:
          type: boolean
          description: Inidicated wether lower limit is applied in this arrangement request

  general-condition:
    description: General, freetext terms and conditions defining
    properties:
      category:
        description: |
          Category which can be used for grouping conditions
          For a list of possible values see [general-condition-categories](arrangement-classifications.html#general-condition-categories) enumeration.
        type: string
        enum: ['general', 'repayment', 'withdrawal', 'termination', 'collaterals', 'servicing', 'dependencies', 'relationship']
        x-asee-enumeration: general-condition-categories
      description:
        type: string
        description: Freetext description of the condition. Should be culture-sensitive.
      contract-section:
        type: string
        description: A reference to related contract section (by section title), if applicable.

  installment-plan:
    type: object
    description: Arrangement request installment plan
    properties:
      number-of-installments:
        description: Number of installments
        type: number
        format: integer
      installment-plan-rows:
        description: List of arrangement fee conditions. Should not be populated unless explicitely specified in include-param.
        type: array
        items:
          $ref: '#/definitions/installment-plan-row'
  
  installment-plan-row:
    type: object
    description: Installment plan row
    properties:
      ordinal:
        type: number
        description: Ordinal number of the row in plan
        format: integer
      date:
        type: string
        description: Payment due date
        format: ISO 8601 date
      activity-kind:
        type: string
        description: |
          Enumeration which can be used by software to recognize the meaning of the activity that triggers the payment. For example, in combination with product type it can be used at front end as a resource id for row description translation into selected culture. Grouping multiple activities into single row is allowed, and then most appropriate classification should be used. For example, disbursement activity may include downpayment, fee-payment, and cash-collateral-pledging. Also repayment activity may include interest-payment, fee-payment, and cash-collateral-release. For deposit products, disbursement activity-kind is used to describe depositing activity, while repayment is used to describe withdrawal.
          For a list of possible values see [installment-activity-kinds](arrangement-classifications.html#installment-activity-kinds) enumeration.
        enum: [disbursement, downpayment, repayment, interest-payment, fee-payment, cash-collateral-pledging, cash-collateral-release]
      description:
        type: string
        description: Description of activity
      disbursement:
        description: Loan disbursement, deposit, or guarantee opening - principal balance increase
        type: number
        format: decimal
      starting-balance:
        description: Principal balance before payment
        type: number
        format: decimal
      principal-repayment:
        description: Principal amount to be payed
        type: number
        format: decimal
      interest-repayment:
        description: Interest amount to be payed
        type: number
        format: decimal
      annuity:
        type: number
        format: decimal
        description: Sum of principal and interest to be repayed
      outstanding-balance:
        type: number
        format: decimal
        description: Principal balance after payment
      fee:
        type: number
        format: decimal
        description: Fee payment
      other-expenses:
        type: number
        format: decimal
        description: Other expenses
      cash-collateral:
        type: number
        format: decimal
        description: Positive and negative flows of cash collateral
      deferred-payment:
        type: number
        format: decimal
        description: Part of payment that is being delayed for some future date. If such defferal exists, then the same amount must be deducted from principal repayment.
      deferred-payment-installment:
        type: number
        format: decimal
        description: Repayment of aggregated deferred payments
      net-cash-flow:
        type: number
        format: decimal
        description: Total net cash flow between the bank and the customer
      discounted-net-cash-flow:
        type: number
        format: decimal
        description: Net cash flow that is being discounted to present value using calculated EAPR
      discounted-disbursement:
        format: decimal
        type: number
        description: Disbursement flows discounted using APR counted based on discounted-net-flow
      discounted-cash-collateral-flow:
        format: decimal
        type: number
        description: Cash collateral flows discounted using APR counted based on discounted-net-flow
  
  exposure-list:
    description: List of exposures
    properties:
      total-amount-in-target-currency:
        description: Total amount in taret currency
        type: number
        format: decimal
      exposures:
        description: List of objects that represents client exposure (credits, deposits, etc..)
        type: array
        items:
          $ref: "#/definitions/exposure"
  
  exposure-info:
    description: Object that represents exposures for client
    properties:
      current-exposure:
        type: object
        description: List of customer current balances from credit accounts (arrangements) in any role that he plays in arrangements
        $ref: '#/definitions/exposure-list'
      new-exposure-in-other-applications:
        type: object
        description: List of all active loan applications excluding current
        $ref: '#/definitions/exposure-list'
      new-exposure-in-current-applications:
        type: object
        description: List of all active loan applications including current
        $ref: '#/definitions/exposure-list'
      total-exposure-amount:
        type: number
        description: Total customer exposure amount
        format: decimal
      total-exposure-currency:
        type: string
        description: Total customer exposure currency
        format: ISO 4217 3-letter currency code
  
  exposure:
    description: Object that represents one exposure statement for client
    properties: 
      party-id:
        description: Customer number from party master system
        type: string
      arrangement-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [arrangement-kind](offer-classifications.html#arrangement-kind) enumeration.
        enum: [current-account, demand-deposit, term-deposit, term-loan, overdraft-facility, credit-facility, credit-card-facility, credit-line, securities-arrangement, card-access-arrangement, electronic-acess-arrangement, other-product-arrangement]
      account-number:
        description: Account number of the arrangement
        type: string
      risk-category:
        description: Some banks have different rules on exposure subtotals per risk category (which usually reflects collateral quality in particular arrangement)
        type: string
      currency:
        description: Currency of arrangement in ISO 4217 alphanumerical code
        type: string
      exposure-in-source-currency:
        description: Exposure value in arrangement currency
        type: number
        format: decimal
      exposure-in-target-currency:
        description: Exposure value in target currency (usually currency of the requested loan)
        type: number
        format: decimal
  
  collateral-requirements-list:
    description: List of collateral requirements for arrangement request
    type: object
    properties:
      collateral-requirement:
        description: List of collateral-requirements
        items:
          $ref: '#/definitions/collateral-requirement'
        type: array

  collateral-requirement:
    description: Collateral requirement object
    properties:
      application-number:
        type: string
        description: Reference of parent application number
      arrangement-request-id:
        description: Identificator of arrangement request within application
        type: number
        format: integer
      collateral-requirement-id:
        description: Identificator of collateral requirement within arrangement request
        type: number
        format: integer
      collateral-arrangement-code:
        description: |
          Defines type of collateral arrangement, for example vehicle-pledge, bond-pledge, commodity-pledge etc...
          For a list of possible values see [collateral-arrangement-code](collateral-classifications.md#collateral-arrangement-code) classifications.
        type: string
        x-asee-classification: collateral-arrangement-code
      from-model:
        description: Fleg that idicates that requirement is related to required collateral model
        type: boolean
      minimal-coverage:
        description: Percentage of the loan that has to be covered with this type of collatera
        type: number
        format: decimal
      minimal-coverage-in-loan-currency:
        description: Calculated as % applied on loan amount
        type: number
        format: decimal
      actual-coverage:
        description: Sum of effective pledged values bind to this collateral requirement and converted to loan currency
        type: number
        format: decimal
      secured-deal-links:
        description: List of pledged collateral arrangements
        type: array
        items:
          $ref: '#/definitions/secured-deal-link'
      collateral-owner:
        description: Party ID of collateral owner
        type: integer

  secured-deal-link:
    description: Pledged collaterals
    properties:
      secured-deal-link-id:
        description: Indentificator of pledged collateral within arrangement request
        type: number
        format: integer
      application-number:
        type: string
        description: Reference of parent application number
      arrangement-request-id:
        description: Identificator of arrangement request within application
        type: number
        format: integer
      collateral-requirement-id:
        description: Identificator of collateral requirement within arrangement request
        type: number
        format: integer
      arrangement-number:
        description: Identificator of collateral arrangement
        type: string
      pledged-value-in-collateral-currency:
        description: Effective value pledged for this particular arrangement
        type: number
        format: decimal
      pledged-value-in-loan-currency:
        description: Calculated as minimal coverage applied to loan amount and converted to collateral currency
        type: number
        format: decimal

  collateral-requirement-validation:
    description: Validation result for collateral requirement
    properties:
      application-number:
        type: string
        description: Reference of parent application number
      arrangement-request-id:
        description: Identificator of arrangement request within application
        type: number
        format: integer
      collateral-requirement-id:
        description: Identificator of collateral requirement within arrangement request
        type: number
        format: integer
      collateral-arrangement-code:
        description: |
          Defines type of collateral arrangement, for example vehicle-pledge, bond-pledge, commodity-pledge etc...
          For a list of possible values see [collateral-arrangement-code](collateral-classifications.md#collateral-arrangement-code) classifications.
        type: string
        x-asee-classification: collateral-arrangement-code
      collateral-validation-result:
        type: string
        description: Enumeration of collateral validation results
        enum: ['filled','not-filled','below-minimal-coverage']

  required-documentation-validation-command:
    description: Document validation required command
    properties:
      application-number:
        type: string
        description: Reference of parent application number
      milestone:
        description: Milestone for which validation is requested
        type: string
      validation-items:
        description: DocumentationValidationItemCommand
        type: array
        items:
          $ref: '#/definitions/documentation-validation-item-command'
  
  documentation-validation-item-command:
    description: Documentation validation item
    properties:
      required-status:
        type: string
        description: |
          Required document status
          For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
        enum: [empty, composed, uploaded, signed, accepted-by-customer]
      document-context-kind:
        type: string
        description: |
          Primary classification of arrangements according to product type.
          For a list of possible values see [document-context-kind](offer-classifications.html#document-context-kind) enumeration.
        enum: [application, party, collateral, arrangement-request]
      product-code:
        type: string
        description: A code or short name by which a product can be identified
      party-role:
        type: string
        description: |
          The type of the role
          For a list of possible values see [party-roles](offer-classifications.html#party-roles) enumeration.
        enum: [customer, co-debtor, customer-representative, guarantor, authorized-person]
      collateral-kind:
        type: string
        description: Condition due to collateral type, if document contexts is collateral. This means that document is needed for every collateral object of that type. 
      document-name:
        type: string
        description: |
          Represents document name.
      document-type:
        type: string
        description: |
          Identifies document type.
          For complete list of possible values see [document-type](product-classifications.html#document-type) classification.
        x-asee-classification: document-type
      product-codes:
        type: array
        description: List of product codes
        items:
          type: string

  gdpr-export-data:
    description: Data that are returned in gdpr export request
    properties:
      erasable-data-full-match:
        type: array
        description: List of data that has full match with parameters and can be erased
        items:
          $ref: '#/definitions/gdpr-party'
      non-erasable-data-full-match:
        type: array
        description: List of data that cannot be erased
        items:
          $ref: '#/definitions/gdpr-party'
      erasable-data-partial-match:
        type: array
        description: List of data that has partial match with parameters and can be erased
        items:
          $ref: '#/definitions/gdpr-party'
      non-erasable-data-partial-match:
        type: array
        description: List of data that has partial match with parameters and cannot be erased
        items:
          $ref: '#/definitions/gdpr-party'
  
  gdpr-data:
    description: Data that are returned in gdpr anonymization request
    allOf:
      - $ref: '#/definitions/gdpr-export-data'
    properties:
      data-after-anonymization:
        type: array
        description: List of data after anonymization
        items:
          $ref: '#/definitions/gdpr-party'

  gdpr-party:
    description: Party data that are returned in gdpr export request
    properties:
      customer-name:
        type: string
        description: The name of the Party that is involved 
      username:
        description: Username of customer or agent who initiate application
        type: string
      legal-address:
        type: object
        description: Address from identification document. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      contact-address:
        type: object
        description: Address for contacting and delivering. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/postal-address'
      identification-number:
        type: string
        description: Identification number. Should not be populated unless explicitely specified in include-param.
      identification-document:
        type: object
        description: Identification document details. Should not be populated unless explicitely specified in include-param.
        $ref: '#/definitions/identification-document'
      documents:
        type: array
        description: List of documents
        items:
          $ref: '#/definitions/gdpr-application-document'
      party-role:
        type: string
        description: |
          The type of the role
          For a list of possible values see [party-roles](offer-classifications.html#party-roles) enumeration.
        enum: [customer, co-debtor, customer-representative, guarantor, authorized-person]
        default: customer
      questionnaires:
        type: array
        description: List of questionnaires
        items:
          $ref: '#/definitions/gdpr-questionnaire'
      given-name:
        type: string
        description: Name given to individual at birth usually by parents. 
      parent-name:
        type: string
        description: Name of one parent.
      surname:
        type: string
        description: Part of an individual's name which belongs to the family the individual is a part of.
      maiden-name:
        type: string
        description: Individual's surname as it existed prior to any change of surname resulting from any marriage.
      mothers-maiden-name:
        type: string
        description: Individual mother's surname as it existed prior to any change of surname resulting from any marriage.
      lifecycle-status:
        description: |
          Lifecycle of individual. Value Null will be treated like value living. 
          For a list of possible values see [individual-status](offer-classifications.md#individual-status) enumeration. 
        type: string           
        enum: [living, deceased]
      email-address:
        type: string
        description: Email address
      mobile-phone:
        type: string
        description: Mobile phone number
      home-phone-number:
        type: string
        description: Home phome number
      gender:
        description: |
          Gender is the characteristic pertaining to, and differentiating between, masculinity and femininity
          For a list of possible values see [gender](party-classifications.md#gender) enumeration.
        type: string
        enum: [female, male, unknown]
      date-of-birth:
        description: Person's date of birth
        format: ISO 8601 date
        type: string
      place-of-birth:
        description: Person's place of birth
        type: string
      country-of-birth:
        description: Person's country of birth
        type: string
        format: ISO 3166-1 alpha-2
      residential-status:
        type: string
        description: | 
          Residential status
          For a list of possible values see [redisential-status](party-classifications.md#redisential-status) enumeration.
        enum: [resident, non-resident]
      country-of-residence:
        type: string
        description: Country of residence
        format: ISO 3166-1 alpha-2
      residential-status-date:
        type: string
        description: Date when residence is acquired
        format: ISO 8601 date
      residential-address-date:
        type: string
        description: The date from which the person is at residential address
        format: ISO 8601 date
      marital-status:
        type: string
        description: |
          Marital status.
          For a list of possible values see [marital-statuses](party-classifications.html#marital-statuses) enumeration.
        enum: [divorced, common-law-marriage, married, single, widowed]
      education-level:
        type: string
        description: |
          Highest educational level.
          For complete list of possible values see [education-levels](offer-classifications.html#education-levels) classification.
        enum: [no-formal-education, primary, lower-secondary, upper-secondary, bachelor-degree, master-degree, doctorate, bachelor, not-disclosed]
      home-ownership:
        type: string
        description: |
          Home ownership
          For complete list of possible values see [home-ownerships](offer-classifications.html#home-ownerships) enumeration.
        enum: [owns, rents, lives-with-relatives, not-disclosed]
      car-ownership:
        type: string
        description: |
            Car assets.
            For complete list of possible values see [car-ownerships](offer-classifications.html#car-ownerships) enumeration.
        enum: [owns, does-not-own, not-disclosed]
      occupation:
        type: string
        description: Occupation 
        format: ISO 8601 date
      employment-info:
        type: object
        description: Applicant employment info
        $ref: '#/definitions/employment-data'
      household-info:
        type: object
        description: Household information
        $ref: '#/definitions/household'
      preferred-culture:
        type: string
        description: Language tag is composed from a sequence of one or more "subtags" separated by a hyphen. Each subtag refines or narrows the range of language variants identified by the tag. For practical purpose, we are using a limited subset of most commonly used subtags in formatted as xx-yyyy-zz where
          xx is a mandatory primary subtag as ISO 639-1 two-character code (lowercase)
          yyyy is an optional script subtag as ISO 15924 four-character code (first letter capitalized)
          zz is an optional region subtag as ISO 3166-1 two-character code (uppercase) 
      matching-percentage:
        type: string
        description: Coefficient that represents how good is matching user data with provided parameters

  gdpr-application-document:   
    description: Document for gdpr data export
    properties:
      document-type:
        description: Document type
        type: string
      document-name:
        description: Document name
        type: string
      status:
        type: string
        description: |
          Current status of the document.
          For a list of possible values see [document-status](offer-classifications.html#document-status) enumeration.
        enum: [empty, composed, uploaded, signed, accepted-by-customer]
      entries:
        type: object
        description: Questionaire entries
        $ref: '#/definitions/entries'

  gdpr-questionnaire:
    description: Questionnaire for gdpr data expor
    properties:
      questionnaire-id:
        type: string
        description: Unique identifier for questionaire related to one application
      purpose:
        type: string
        description: Purpose of questionaire like KYC, FATCA, Security, Risk...
      date:
        type: string
        description: Date of questionaire fulfillment
        format: ISO 8601 date
      questionnaire-name:
        type: string
        description: Name of questionaire

  postal-address:
    description: Customer contact points.
    properties:
      formatted:
        description: Formatted address text
        type: string
      street:
        description: Street name
        type: string
      street-number:
        description: Street number
        type: string
      postal-code:
        description: Postal code
        type: string
      locality:
        description: Populated place such as city, town or village
        type: string
      country:
        description: ISO 3166-1 alpha-2 country code
        type: string
        maxLength: 2
        minLength: 2
      address-code:
        description: Address code assigned for precise postal delivery
        type: string
      coordinates:
        $ref: "#/definitions/coordinates"
    type: object

  coordinates:
    type: object
    required:
      - lat
      - long
    description: The geographic coordinates of a location
    properties:
      lat:
        description: The latitude of a location. For example 37.42242
        format: double
        type: number
      long:
        description: The longitude of a location. For example -122.08585
        format: double
        type: number


  currency:
    description: Currency amount and code
    type: object
    required:
      - amount
      - code
    properties:
      amount:
        description: Amount
        format: double
        type: number
        default: 0
      code:
        description: ISO 4217 3 letter currency code
        type: string
        minLength: 3
        maxLength: 3
    example:
      amount: 200.00
      code: EUR

  paged-list:
    description: List with support for paging
    properties:
      total-count:
        description: Total number of items in collection
        type: integer
      page-size:
        description: Size of the page
        type: integer
      page:
        description: Index of current page
        type: integer
      total-pages:
        description: Total number of pages of set size
        type: integer
      sort-order:
        description: Sort order (`asc` or `desc`). Default is asc
        type: string
        enum:
        - asc
        - desc
      sort-by:
        description: Attribute of the collection item to sort by
        type: string
  
  classification-list:
    description: List of classification schemas
    type: object
    properties:
      items:
        description: List of classification schemas
        items:
          $ref: "#/definitions/classification-info"
        type: array
    example:
      application-statuses:
        schema-id: application-status,
        name: Application Status,
        description: List of possible application status
      arrangement-kind:
        schema-id: arrangement-kind,
        name: Arrangement Kind,
        description: List of possible arrangement kinds

  classification-info:
    description: Basic information on classification schema
    properties:
      schema-id:
        type: string
        description: Unique literal that identifies the classification schema. Always in `lowercase-dash` convention.
      name:
        type: string
        description: User friendly name of classification
      description:
        type: string
        description: Description of a classification
    example:
      schema-id: application-status,
      name: Application Status,
      description: List of possible application status

  classification:
    type: object
    description: Classification schema details
    properties:
      schema-id:
        type: string
        description: Unique literal that identifies the classification schema. Always in `lowercase-dash` convention.
      name:
        type: string
        description: User friendly name of classification
      description:
        type: string
        description: Description of a classification
      values:
        description: List of allowed classification values
        type: array
        items:
          $ref: "#/definitions/classification-value"
    example:
      schema-id: contact-purpose
      name: Contact Purpose
      description: List of possible uses of contact in business context. Commonly used filing purposes are billing, marketing
      values:
        draft:
          literal: draft,
          code: 0,
          description: Application is being prepareds
        canceled:
          literal: canceled,
          code: 1,
          description: Customer canceled at any point
        active:
          literal: active,
          code: 2,
          description: In underwriting process
        rejected:   
          literal: rejected,
          code: 3,
          description: Negative underwriting decision
        approved:    
          literal: approved,
          code: 4,
          description: Positive underwriting decision
        accepted:
          literal: accepted,
          code: 5,
          description: Customer accepted offer
        complete:
          literal: complete,
          code: 6,
          description: Arrangement(s) activated

  classification-value:
    type: object
    description: Classification value
    properties:
      literal:
        description: Literal that uniquely identifies classification value
        type: string
      code:
        description: Optional numerical code of classification value
        type: string
      description:
        description: Description of classification value
        type: string
      parent-literal:
        description: Optional literal of parent classification value if schema is hierarchical
        type: string
    example:
      literal: billing
      code: 002
      description: Contact may be used to provide party with details of their liabilities to the bank
      